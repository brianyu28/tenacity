(this.webpackJsonptenacity=this.webpackJsonptenacity||[]).push([[0],{19:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var o,a=n(2),r=n.n(a),i=n(14),c=n.n(i),s=(n(19),n(5)),u=n(3),l=n(11),b=n.n(l),d=n(4),j=n(6),m=n(0),O=n(7),f="ROCKET_LAUNCH",p={FORWARD:"FORWARD",TAKE_PHOTO:"TAKE_PHOTO",TURN:"TURN",PICK_UP:"PICK_UP",REPEAT:"REPEAT",END_REPEAT:"END REPEAT"},g=(o={},Object(d.a)(o,p.FORWARD,{name:"Move Forward"}),Object(d.a)(o,p.TURN,{name:"Turn Around"}),Object(d.a)(o,p.PICK_UP,{name:"Pick Up Object"}),Object(d.a)(o,p.LAUNCH_ROCKET,{name:"Launch Rocket"}),Object(d.a)(o,p.TAKE_PHOTO,{name:"Take Photo"}),Object(d.a)(o,p.REPEAT,{name:"Repeat",args:[{key:"count",text:"How many times to repeat?"}]}),Object(d.a)(o,p.END_REPEAT,{name:"End Repeat"}),o),h=function(e,t){for(var n={},o=0;o<t.length;o++){var a=t[o].block;void 0===n[a]?n[a]=1:n[a]++}return e.reduce((function(e,t){var o=Object(s.a)(t,2),a=o[0],r=o[1];return[].concat(Object(j.a)(e),[[a,r-(n[a]||0)]])}),[])},x=function(e){var t=e.block,n=e.args,o=g[t].name;switch(t){case p.REPEAT:return"".concat(o," ").concat(n.count);default:return o}},v=n(12),y=n.p+"static/media/rocket.0dec99f9.svg",R=n.p+"static/media/rover.b107911f.svg",T=n.p+"static/media/rover_flipped.1ce4141d.svg",E=n.p+"static/media/mercury_crater.af0b0b06.svg",k=n.p+"static/media/rock_red.31b2b06f.svg",C=n.p+"static/media/volcano.957d8bd8.svg",I=n.p+"static/media/photograph.86f8d649.svg",P=800,A=600,S=100,w={ROVER:{images:[R,T],height:80,width:80},ROCKET:{images:[y],height:100,width:57},MERCURY_CRATER:{images:[E],height:30,width:90},ROCK_RED:{images:[k],height:30,width:40},VOLCANO:{images:[C],height:100,width:100},PHOTOGRAPH:{images:[I],height:60,width:60}},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 500-e.height-t},_={elevation:0,opacity:1,costumeNumber:0},M=[{name:"Mercury",introConfig:{size:15,scale:2,orbitDuration:1e4,textColor:"black"},colors:{main:"#bfbaac",sky:"#7d705b",text:"black"},briefing:"The Tenacity rover has arrived on Mercury. Use the control panel to help Tenacity complete its missions.",missions:[{objective:"Navigate Tenacity back to the spacecraft for refueling.",blocks:[[p.FORWARD,2]],items:[Object(m.a)(Object(m.a)({},_),{},{id:"rocket",object:w.ROCKET,x:500}),Object(m.a)(Object(m.a)({},_),{},{id:"rover",object:w.ROVER,x:300})],criteria:[{category:"rover_x",value:500}]},{objective:"Get close to the crater to explore it. But be careful not to fall in!",hint:"You do not always need to use every block available to you.",blocks:[[p.FORWARD,5]],items:[Object(m.a)(Object(m.a)({},_),{},{id:"rocket",object:w.ROCKET,x:100}),Object(m.a)(Object(m.a)({},_),{},{id:"crater",object:w.MERCURY_CRATER,x:500,elevation:-30,allowFall:!0}),Object(m.a)(Object(m.a)({},_),{},{id:"rover",object:w.ROVER,x:100})],criteria:[{category:"rover_x",value:400}]},{objective:"Return the rock sample back to the rocket.",blocks:[[p.FORWARD,5],[p.PICK_UP,1],[p.TURN,1]],items:[Object(m.a)(Object(m.a)({},_),{},{id:"rocket",object:w.ROCKET,x:100}),Object(m.a)(Object(m.a)({},_),{},{id:"crater",object:w.MERCURY_CRATER,x:500,elevation:-30,allowFall:!0}),Object(m.a)(Object(m.a)({},_),{},{id:"rock",object:w.ROCK_RED,x:400,elevation:-30}),Object(m.a)(Object(m.a)({},_),{},{id:"rover",object:w.ROVER,x:400})],criteria:[{category:"rover_x",value:100},{category:"rover_carry",value:"rock"}]},{objective:"We're done here on Mercury! Launch the rocket to head to the next planet.",blocks:[[p.LAUNCH_ROCKET,1]],items:[Object(m.a)(Object(m.a)({},_),{},{id:"rocket",object:w.ROCKET,x:400}),Object(m.a)(Object(m.a)({},_),{},{id:"rover",object:w.ROVER,x:400})],criteria:[{category:"event",value:f}]}]},{name:"Venus",introConfig:{size:20,scale:1.7,orbitDuration:28900,textColor:"black"},colors:{main:"#ae7c43",sky:"#dbb78f",text:"black"},briefing:"Welcome to Venus!",missions:[{objective:"Get to the base of the volcano and take a photo.",blocks:[[p.FORWARD,1],[p.TAKE_PHOTO,1],[p.REPEAT,1],[p.END_REPEAT,1]],items:[Object(m.a)(Object(m.a)({},_),{},{id:"volcano",object:w.VOLCANO,x:700}),Object(m.a)(Object(m.a)({},_),{},{id:"rocket",object:w.ROCKET,x:100}),Object(m.a)(Object(m.a)({},_),{},{id:"rover",object:w.ROVER,x:200})],criteria:[{category:"photograph",value:700}]}]}];v.a.initialize("UA-123778931-5");var D,L=function(e,t){return"".concat(M[e].name,", Mission ").concat(t+1)},U=function(e){v.a.event(e)},K=n(1),B=function(e){var t=e.addToProgram,n=e.blocks,o=e.onResetProgram,a=e.onSubmitProgram,r=e.program,i=e.programSubmitted,c=e.planetIndex,u=e.missionIndex;return Object(K.jsx)("div",{id:"control-panel",children:Object(K.jsxs)("div",{id:"control-panel-container",children:[Object(K.jsxs)("div",{children:[Object(K.jsx)("div",{id:"program",children:r.map((function(e,t){return Object(K.jsx)("div",{children:x(e)},t)}))}),!i&&Object(K.jsxs)("div",{children:[Object(K.jsx)("button",{onClick:o,children:"Reset"}),Object(K.jsx)("button",{onClick:function(){var e=function(e){for(var t=[],n=[],o=0;o<e.length;o++){var a=Object.assign({},e[o]);switch(a.meta={id:o},a.block){case p.REPEAT:n.push({type:p.REPEAT,line:o});var r=parseInt(a.args.count);if(isNaN(r))return{isValid:!1,error:"Tenacity only understands an integer number of times to repeat!"};a.args.count=r;break;case p.END_REPEAT:var i=n.pop();if(void 0===i)return{isValid:!1,error:"Tenacity can only End Repeat after a matching Repeat instruction."};if(i.type!==p.REPEAT)return{isValid:!1,error:"Tenacity tried to End Repeat, but it looks like some other part of the program needs to be resolved first."};a.meta.jumpBackTo=i.line,t[i.line].meta.jumpTo=o+1}t.push(a)}var c=n.pop();return void 0!==c?c.type===p.REPEAT?{isValid:!1,error:"Tenacity found a Repeat instruction, but it needs a matching End Repeat instruction so that it knows when to stop repeating."}:{isValid:!1,error:"Tenacity found a mistake in the program."}:{isValid:!0,augmentedProgram:t}}(r),t=e.isValid,n=e.augmentedProgram,o=e.error;if(!t)return U({category:"Error",action:"Invalid Program Error",label:L(c,u),value:o}),void alert(o);window.scrollTo({top:0,behavior:"smooth"}),setTimeout((function(){a(n)}),1e3)},children:"Submit Instructions"})]})]}),Object(K.jsx)("div",{id:"blocks",children:n.map((function(e,n){var o=Object(s.a)(e,2),a=o[0],r=o[1];return 0!==r&&Object(K.jsxs)("button",{className:"block",onClick:function(){return function(e){if(!i){var n=g[e],o={};if(void 0!==n.args){var a,r=Object(O.a)(n.args);try{for(r.s();!(a=r.n()).done;){var c=a.value;if(o[c.key]=window.prompt(c.text),null===o[c.key])return}}catch(s){r.e(s)}finally{r.f()}}t(e,o)}}(a)},children:[g[a].name," (x",r,")"]},n)}))})]})})},F=(n(25),function(e){var t=e.onCompleteIntro,n=e.onStartPlaying,o=Object(a.useState)(!1),r=Object(s.a)(o,2),i=r[0],c=r[1],l=Object(u.b)({to:{opacity:i?0:1},from:{opacity:0},config:{duration:1500},onRest:function(){i&&t()}}),b=function(){U({category:"Game",action:"Play Game"}),n(),c(!0)};return Object(K.jsxs)(u.a.g,{opacity:l.opacity,children:[Object(K.jsx)("text",{x:"50%",y:"30%",dominantBaseline:"middle",textAnchor:"middle",className:"titleText",opacity:l.opacity,children:"Tenacity"}),Object(K.jsx)("text",{x:"50%",y:"45%",dominantBaseline:"middle",textAnchor:"middle",className:"subheadText",opacity:l.opacity,children:"A game by Brian Yu"}),Object(K.jsx)("rect",{x:300,y:"360",height:80,width:200,rx:20,fill:"white",className:"hoverable",onClick:b}),Object(K.jsx)("text",{x:400,y:"400",dominantBaseline:"middle",textAnchor:"middle",style:{fontSize:"48px",fill:"black"},className:"hoverable",onClick:b,children:"Play"})]})}),V=function(){return Object(K.jsxs)("div",{style:{maxWidth:"500px"},children:[Object(K.jsx)("div",{children:"Tenacity is a work in progress, and you've reached the end of what's been developed so far! Check back soon for more missions."}),Object(K.jsx)("br",{}),Object(K.jsxs)("div",{children:["Tenacity is developed by Brian Yu at Harvard Graduate School of Education. While the game is in development, I would love to hear thoughts, feedback, and recommendations: you can reach me at ",Object(K.jsx)("a",{style:{color:"white"},href:"mailto:brian@brianyu.me",children:"brian@brianyu.me"}),"."]})]})},z=function(e){var t=e.planet;return Object(K.jsxs)("g",{children:[Object(K.jsx)("rect",{x:0,y:500,width:P,height:S,fill:t.colors.main}),Object(j.a)(Array(8).keys()).map((function(e){return Object(K.jsx)("rect",{x:100*e-.5,y:500,width:1,height:10},e)}))]})},W=function(e){var t=e.onCompleteIntro,n=e.onZoomIntro,o=e.planetIndex,r=M[o],i=r.introConfig.scale,c=Object(a.useState)(!1),l=Object(s.a)(c,2),b=l[0],d=l[1],j=Object(a.useState)(!1),m=Object(s.a)(j,2),O=m[0],f=m[1],p=Object(a.useState)(!1),g=Object(s.a)(p,2),h=g[0],x=g[1],v=Object(a.useState)(!1),y=Object(s.a)(v,2),R=y[0],T=y[1],E=Object(u.b)({to:{opacity:1},from:{opacity:0},config:{duration:1500},delay:1500}),k=Object(u.b)({to:{opacity:1},from:{opacity:0},config:{duration:1500},delay:3e3}),C=Object(u.b)({to:{angle:4*Math.PI},from:{angle:0},config:{duration:2e4},reset:b,onRest:function(){return d((function(e){return!e}))}}),I=Object(u.b)({to:{zoom:h?1:0},from:{zoom:0},config:{duration:1e3},onRest:function(){h&&(n(),T(!0))}}),P=Object(u.b)({to:{opacity:O?0:1},from:{opacity:1},config:{duration:2e3},onRest:function(){O&&t()}}),A=Object(u.b)({to:{opacity:R?1:0},from:{opacity:0},config:{duration:1e3},onRest:function(){R&&setTimeout((function(){f(!0)}),2e3)}}),S=M.slice(0,1+o).map((function(e,t){var n=t==o,a=100+50*t;return Object(K.jsxs)(u.a.g,{opacity:k.opacity,children:[Object(K.jsx)(u.a.circle,{cx:400,cy:300,r:a*i,fillOpacity:0,stroke:"white",strokeWidth:2}),Object(K.jsx)(u.a.circle,{cx:C.angle.interpolate((function(t){return 400+i*(a*Math.cos(t*(1e4/e.introConfig.orbitDuration)))})),cy:C.angle.interpolate((function(t){return 300-i*(a*Math.sin(t*(1e4/e.introConfig.orbitDuration)))})),r:n?I.zoom.interpolate((function(t){return e.introConfig.size*i+t*(1600-e.introConfig.size*i)})):e.introConfig.size*i,style:{fill:e.colors.main}})]},t)}));return Object(a.useEffect)((function(){var e=setTimeout((function(){x(!0)}),1e4);return function(){return clearTimeout(e)}}),[]),Object(K.jsxs)(u.a.g,{opacity:P.opacity,children:[Object(K.jsx)(u.a.circle,{cx:400,cy:300,r:50*i,style:{fill:"#f0f067"},opacity:E.opacity}),S,Object(K.jsx)(u.a.text,{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",style:{fontSize:"80px",fill:r.introConfig.textColor},opacity:A.opacity,children:r.name})]})},H=function(e){var t=e.planet,n=e.completedMissions;return Object(K.jsxs)("g",{children:[Object(K.jsx)("text",{textAnchor:"end",dominantBaseline:"hanging",x:785,y:15,style:{fill:t.colors.text,fontSize:"24px"},children:t.name}),t.missions.map((function(e,o){return Object(K.jsx)("circle",{cx:35+55*o,cy:35,r:20,style:{fill:n>o?t.colors.main:"rgba(0, 0, 0, 0)",stroke:t.colors.main,strokeWidth:n>o?0:1}},o)}))]})},G=function(e){var t=e.object,n=e.x,o=e.y,a=e.center,r=e.costumeIndex,i=e.opacity;return void 0===r&&(r=0),Object(K.jsx)("image",{href:t.images[r],height:t.height,x:!1===a?n:n-t.width/2,y:o,opacity:i})},Y=Object(u.a)(G),Z=function(e){var t=e.planetIndex,n=e.missionIndex,o=e.onSuccess,r=e.onFailure,i=e.program,c=e.programSubmitted,l=M[t],b=l.missions[n];Object(a.useEffect)((function(){U({category:"Level",action:"Start Level",label:L(t,n)})}),[n,t]);var g=Object(a.useState)({startTime:new Date,currentInstruction:0,instructionsCompleted:0,items:b.items,winMessage:!1,loseMessage:!1,photographs:[],loopMetadata:{},events:[]}),h=Object(s.a)(g,2),x=h[0],v=h[1],y=x.startTime,R=x.currentInstruction,T=x.instructionsCompleted,E=x.items,k=x.photographs,C=x.winMessage,I=x.loseMessage,P=E.findIndex((function(e){return"rover"===e.id})),A=-1!==P?E[P]:null,S=E.findIndex((function(e){return"rocket"===e.id})),_=-1!==S?E[S]:null;function D(e){switch(e.category){case"rover_x":return e.value===A.x;case"rover_carry":var t,n=Object(O.a)(E);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(o.id===e.value&&!0===o.carried)return!0}}catch(l){n.e(l)}finally{n.f()}return!1;case"event":var a,r=Object(O.a)(x.events);try{for(r.s();!(a=r.n()).done;){var i=a.value;if(e.value===i)return!0}}catch(l){r.e(l)}finally{r.f()}return!1;case"photograph":var c,s=Object(O.a)(k);try{for(s.s();!(c=s.n()).done;){var u=c.value;if(e.value===u)return!0}}catch(l){s.e(l)}finally{s.f()}return!1;default:return console.log("Error: Unknown criterion."),!1}}function B(e){return e.map((function(e,t){return t===P?Object(m.a)(Object(m.a)({},A),{},{util:(A.util||0)+1}):e}))}if(c&&R<i.length&&T===R&&!C&&!I){var F=i[R];switch(F.block){case p.FORWARD:v((function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,items:e.items.map((function(e,t){return t===P||!0===e.carried?Object(m.a)(Object(m.a)({},e),{},{x:0===A.costumeNumber?e.x+100:e.x-100}):e}))})}));break;case p.TURN:v((function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,items:e.items.map((function(e,t){return t===P?Object(m.a)(Object(m.a)({},A),{},{costumeNumber:0===A.costumeNumber?1:0}):e}))})}));break;case p.PICK_UP:var V=function(){var e,t=null,n=Object(O.a)(E);try{for(n.s();!(e=n.n()).done;){var o=e.value;o!==A&&o.x===A.x&&(null===t||o.elevation>t.elevation)&&(t=o)}}catch(a){n.e(a)}finally{n.f()}return t}();v(null!=V?function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,items:e.items.map((function(e,t){return e===V?Object(m.a)(Object(m.a)({},V),{},{elevation:30,carried:!0}):t===P?Object(m.a)(Object(m.a)({},A),{},{util:(A.util||0)+1}):e}))})}:function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,items:B(e.items)})});break;case p.LAUNCH_ROCKET:var z=_&&A&&_.x===A.x;v((function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,items:z?e.items.map((function(e,t){return t===P?Object(m.a)(Object(m.a)({},A),{},{opacity:-10}):t===S?Object(m.a)(Object(m.a)({},_),{},{elevation:600}):e})):e.items,events:[].concat(Object(j.a)(e.events),[f])})}));break;case p.REPEAT:var W=x.loopMetadata[F.meta.id]||0;W>=F.args.count?v((function(e){return Object(m.a)(Object(m.a)({},e),{},{currentInstruction:F.meta.jumpTo-1,instructionsCompleted:F.meta.jumpTo,items:B(e.items)})})):v((function(e){return Object(m.a)(Object(m.a)({},e),{},{currentInstruction:e.currentInstruction+1,instructionsCompleted:e.instructionsCompleted+1,items:B(e.items),loopMetadata:Object(m.a)(Object(m.a)({},e.loopMetadata),{},Object(d.a)({},F.meta.id,W+1))})}));break;case p.END_REPEAT:v((function(e){return Object(m.a)(Object(m.a)({},e),{},{currentInstruction:F.meta.jumpBackTo,instructionsCompleted:F.meta.jumpBackTo,items:B(e.items)})}));break;case p.TAKE_PHOTO:v((function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,photographs:[].concat(Object(j.a)(e.photographs),[A.x]),items:B(e.items)})}));break;default:console.log("ERROR: Unknown block.")}}var H=Object(u.b)({to:{opacity:C?1:0},from:{opacity:0},config:{duration:1e3},delay:500,onRest:function(){C&&(U({category:"Level",action:"Win Level",label:L(t,n),value:Math.round((new Date-y)/1e3)}),setTimeout((function(){o()}),2500))}}),G=Object(u.b)({to:{opacity:I?1:0},from:{opacity:0},config:{duration:1e3},delay:500,onRest:function(){I&&(U({category:"Level",action:"Lose Level",label:L(t,n),value:Math.round((new Date-y)/1e3)}),setTimeout((function(){r()}),2500))}}),Z=Object(u.c)(E.length,E.map((function(e,t){return{to:{x:e.x,elevation:e.elevation,opacity:e.opacity,util:e.util||0},config:{duration:1e3},onRest:function(){C||I||(t===P&&c&&function(e){var t,n=Object(O.a)(E);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(o.allowFall&&o.x===e.x&&0===e.elevation)return!0}}catch(a){n.e(a)}finally{n.f()}return!1}(e)?v((function(e){return Object(m.a)(Object(m.a)({},e),{},{items:e.items.map((function(e,t){return t===P||!0===e.carried?Object(m.a)(Object(m.a)({},e),{},{elevation:e.elevation-20}):e})),loseMessage:!0})})):(t===P&&c&&x.instructionsCompleted===i.length&&(!function(){for(var e=0;e<b.criteria.length;e++)if(!D(b.criteria[e]))return!1;return!0}()?v((function(e){return Object(m.a)(Object(m.a)({},e),{},{loseMessage:!0})})):v((function(e){return Object(m.a)(Object(m.a)({},e),{},{winMessage:!0})}))),t===P&&c&&x.instructionsCompleted>R&&x.instructionsCompleted!==i.length&&setTimeout((function(){v((function(e){return Object(m.a)(Object(m.a)({},e),{},{currentInstruction:e.currentInstruction+1})}))}),250)))}}})));return Object(K.jsxs)("g",{children:[Z.map((function(e,t){var n=E[t];return Object(K.jsx)(Y,{object:n.object,x:e.x,y:e.elevation.interpolate((function(e){return N(n.object,e)})),costumeIndex:n.costumeNumber,center:!1!==n.object.center,opacity:e.opacity},t)})),k.map((function(e,t){var n=w.PHOTOGRAPH;return Object(K.jsx)(Y,{object:n,x:20+(n.width+10)*t,y:N(n,-80),costumeIndex:0,center:!1,opacity:1},t)})),Object(K.jsx)(u.a.text,{x:"50%",y:"20%",dominantBaseline:"middle",textAnchor:"middle",opacity:H.opacity,style:{fontSize:"80px",fill:l.colors.text},children:"Mission Success"}),Object(K.jsx)(u.a.text,{x:"50%",y:"20%",dominantBaseline:"middle",textAnchor:"middle",opacity:G.opacity,style:{fontSize:"80px",fill:l.colors.text},children:"Try Again"})]})},J=function(e){var t=e.missionNumber,n=e.objective;return Object(K.jsxs)("div",{style:{fontSize:"24px",textAlign:"center"},children:[Object(K.jsxs)("strong",{children:["Mission ",t," Objective"]}),Object(K.jsx)("br",{}),n]})},X=function(e){var t=e.briefing,n=e.onCompleteBriefing;return Object(K.jsxs)("div",{style:{fontSize:"24px",textAlign:"center"},children:[t,Object(K.jsx)("br",{}),Object(K.jsx)("button",{onClick:n,children:"Continue"})]})},q="COMPLETE_INTRO",Q="COMPLETE_PLANET_INTRO",$="ZOOM_PLANET_INTRO",ee="COMPLETE_BRIEFING",te="ADD_TO_PROGRAM",ne="RESET_PROGRAM",oe="SUBMIT_PROGRAM",ae="NEXT_MISSION",re="REPEAT_MISSION",ie=0,ce=1,se=2,ue=(D={},Object(d.a)(D,q,(function(e){return Object(m.a)(Object(m.a)({},e),{},{introShown:!0})})),Object(d.a)(D,$,(function(e){return e.planetIntroStatus===ie?Object(m.a)(Object(m.a)({},e),{},{planetIntroStatus:ce}):e})),Object(d.a)(D,Q,(function(e){return Object(m.a)(Object(m.a)({},e),{},{planetIntroStatus:se})})),Object(d.a)(D,ee,(function(e){return Object(m.a)(Object(m.a)({},e),{},{briefingShown:!0})})),Object(d.a)(D,te,(function(e,t){var n=t.block,o=t.args;return Object(m.a)(Object(m.a)({},e),{},{program:[].concat(Object(j.a)(e.program),[{block:n,args:o}])})})),Object(d.a)(D,ne,(function(e){return Object(m.a)(Object(m.a)({},e),{},{program:[]})})),Object(d.a)(D,oe,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{program:t,programSubmitted:!0})})),Object(d.a)(D,ae,(function(e){var t=M[e.planetIndex];return e.missionIndex+1<t.missions.length?Object(m.a)(Object(m.a)({},e),{},{missionIndex:e.missionIndex+1,round:e.round+1,program:[],programSubmitted:!1}):e.planetIndex+1<M.length?Object(m.a)(Object(m.a)({},e),{},{planetIndex:e.planetIndex+1,missionIndex:0,round:e.round+1,planetIntroStatus:ie,briefingShown:!1,program:[],programSubmitted:!1}):Object(m.a)(Object(m.a)({},e),{},{done:!0})})),Object(d.a)(D,re,(function(e){return Object(m.a)(Object(m.a)({},e),{},{round:e.round+1,program:[],programSubmitted:!1})})),D),le=function(e,t){var n=t.type,o=t.payload,a=ue[n];return a?a(e,o):e},be=function(e){var t,n=e.onStartPlaying,o=Object(a.useReducer)(le,{planetIndex:0,missionIndex:0,done:!1,round:0,introShown:!!(t=!1),planetIntroStatus:t?se:ie,briefingShown:!!t,program:[],programSubmitted:!1}),r=Object(s.a)(o,2),i=r[0],c=r[1],l=function(e,t){return c({type:e,payload:t})},b=i.planetIndex,d=i.missionIndex,j=i.introShown,m=i.planetIntroStatus,O=i.briefingShown,f=i.program,p=i.programSubmitted,g=i.round,x=i.done,v=M[b],y=v.missions[d];function R(){l(q)}function T(){l($)}function E(){l(Q)}function k(){l(ee)}var C=Object(u.b)({to:{color:j?m>=ce?v.colors.sky:"black":"rgba(0, 0, 0, 0)"},from:{color:"rgba(0, 0, 0, 0)"},config:{duration:1500}}),I=m===se,S=I&&O;return x?Object(K.jsx)(V,{}):Object(K.jsxs)("div",{style:{maxWidth:P},children:[Object(K.jsxs)(u.a.svg,{width:P,height:A,className:"scene",style:{backgroundColor:C.color},children:[m>=ce&&Object(K.jsx)(z,{planet:v}),I&&Object(K.jsx)(H,{planet:v,completedMissions:d}),j?I?Object(K.jsx)(Z,{planetIndex:b,missionIndex:d,onFailure:function(){return l(re)},onSuccess:function(){return l(ae)},program:f,programSubmitted:p},g):Object(K.jsx)(W,{planetIndex:b,onZoomIntro:T,onCompleteIntro:E}):Object(K.jsx)(F,{onStartPlaying:n,onCompleteIntro:R})]}),I&&(O?Object(K.jsx)(J,{missionNumber:d+1,objective:y.objective}):Object(K.jsx)(X,{briefing:v.briefing,onCompleteBriefing:k})),S&&Object(K.jsx)(B,{planetIndex:b,missionIndex:d,addToProgram:function(e,t){l(te,{block:e,args:t})},blocks:h(y.blocks,f),onResetProgram:function(){return l(ne)},onSubmitProgram:function(e){return l(oe,e)},program:f,programSubmitted:p})]})},de=n.p+"static/media/amerika.421d9361.mp3",je=Object(u.a)(b.a),me=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],o=t[1],r=Object(u.b)({to:{volume:n?100:0},from:{volume:0},config:{duration:8e3}});return Object(K.jsxs)("div",{className:"page",children:[Object(K.jsx)("div",{className:"scene-container",children:Object(K.jsx)(be,{onStartPlaying:function(){return o(!0)}})}),Object(K.jsx)(je,{url:de,playStatus:n?b.a.status.PLAYING:b.a.status.STOPPED,autoLoad:!0,loop:!0,volume:r.volume})]})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),o(e),a(e),r(e),i(e)}))};v.a.pageview(window.location.pathname+window.location.search),c.a.render(Object(K.jsx)(r.a.StrictMode,{children:Object(K.jsx)(me,{})}),document.getElementById("root")),Oe()}},[[26,1,2]]]);
//# sourceMappingURL=main.87570396.chunk.js.map