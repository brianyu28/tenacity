(this.webpackJsonptenacity=this.webpackJsonptenacity||[]).push([[0],{19:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var o,n=a(2),c=a.n(n),i=a(14),r=a.n(i),s=(a(19),a(6)),l=a(4),b=a(11),u=a.n(b),d=a(3),j=a(7),m=a(0),O=a(5),p="ROCKET_LAUNCH",v="BUILD_BRIDGE",h="FORWARD",f="FORWARD_VAR",g="INCREMENT_VAR",x="TAKE_PHOTO",y="TURN",k="LAUNCH_ROCKET",R="PICK_UP",T="DROP",C="PRESS_BUTTON",E="REPEAT",_="END REPEAT",I="IF_BUTTON_BLUE",w="IF_CARRYING_BLUE",S="IF_ICE",N="ELSE",B="END_IF",A=(o={},Object(d.a)(o,v,{name:"Build Bridge"}),Object(d.a)(o,h,{name:"Move Forward"}),Object(d.a)(o,f,{name:"Move x Steps",args:[{key:"var",text:"Variable name?"}]}),Object(d.a)(o,g,{name:"Increase x by 1",args:[{key:"var",text:"Variable name?"}]}),Object(d.a)(o,y,{name:"Turn Around"}),Object(d.a)(o,R,{name:"Pick Up Object"}),Object(d.a)(o,T,{name:"Drop Object"}),Object(d.a)(o,k,{name:"Launch Rocket"}),Object(d.a)(o,x,{name:"Take Photo"}),Object(d.a)(o,C,{name:"Press Button"}),Object(d.a)(o,E,{name:"Repeat",args:[{key:"count",text:"How many times to repeat?"}]}),Object(d.a)(o,_,{name:"End Repeat"}),Object(d.a)(o,I,{name:"If Button is Blue"}),Object(d.a)(o,w,{name:"If Carrying Blue"}),Object(d.a)(o,S,{name:"If Ice Detected"}),Object(d.a)(o,N,{name:"Else"}),Object(d.a)(o,B,{name:"End If"}),o),M=function(e,t){for(var a={},o=0;o<t.length;o++){var n=t[o].block;void 0===a[n]?a[n]=1:a[n]++}return e.reduce((function(e,t){var o=Object(s.a)(t,2),n=o[0],c=o[1];return[].concat(Object(j.a)(e),[[n,c-(a[n]||0)]])}),[])},U=function(e){var t=e.block,a=e.args,o=A[t].name;switch(t){case E:return"".concat(o," ").concat(a.count);case f:return"Move ".concat(a.var," Steps");case g:return"Increase ".concat(a.var," by 1");default:return o}},L=a(12),V=a.p+"static/media/button_red_unpressed.86163d0f.svg",P=a.p+"static/media/button_red_pressed.108133ca.svg",D=a.p+"static/media/button_blue_unpressed.11c1cc6b.svg",K=a.p+"static/media/button_blue_pressed.14541aa3.svg",F=a.p+"static/media/bridge.76f2dfc2.svg",z=a.p+"static/media/lab.18e56e2e.svg",G=a.p+"static/media/rocket.0dec99f9.svg",W=a.p+"static/media/rover.b107911f.svg",X=a.p+"static/media/rover_flipped.1ce4141d.svg",J=a.p+"static/media/mercury_crater.af0b0b06.svg",H=a.p+"static/media/rock_blue.2c73d521.svg",Y=a.p+"static/media/rock_red.31b2b06f.svg",Z=a.p+"static/media/volcano.957d8bd8.svg",q=a.p+"static/media/mountain.7dc848e1.svg",Q=a.p+"static/media/photograph.86f8d649.svg",$=a.p+"static/media/box_samples.3014cc1b.svg",ee=a.p+"static/media/box_red.566ab204.svg",te=a.p+"static/media/box_blue.ee76ee2b.svg",ae=800,oe=600,ne=100,ce={BRIDGE:{images:[F],height:13.5,width:90},BOX_SAMPLES:{images:[$],height:90,width:90},BOX_RED:{images:[ee],height:90,width:90},BOX_BLUE:{images:[te],height:90,width:90},ROVER:{images:[W,X],height:80,width:80},BUTTON_BLUE:{images:[D,K],height:40,width:40},BUTTON_RED:{images:[V,P],height:40,width:40},ROCKET:{images:[G],height:100,width:57},LAB:{images:[z],height:250,width:150},MERCURY_CRATER:{images:[J],height:30,width:90},VENUS_CRATER:{images:[J],height:30,width:90},ROCK_RED:{images:[Y],height:30,width:40},ROCK_BLUE:{images:[H],height:30,width:40},VOLCANO:{images:[Z],height:100,width:100},MOUNTAIN:{images:[q],height:100,width:100},PHOTOGRAPH:{images:[Q],height:60,width:60}},ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 500-e.height-t},re={elevation:0,opacity:1,costumeNumber:0},se=[{name:"Mercury",introConfig:{size:15,scale:2,orbitDuration:1e4,textColor:"black"},colors:{main:"#bfbaac",sky:"#7d705b",text:"black"},briefing:"The Tenacity rover has arrived on Mercury. Use the control panel to help Tenacity complete its missions.",missions:[{objective:"Navigate Tenacity back to the spacecraft for refueling.",hint:'Click on a function to add it to Tenacity\'s program. Click "Submit Instructions" when the program is ready to run.',blocks:[[h,2]],items:[Object(m.a)(Object(m.a)({},re),{},{id:"rocket",object:ce.ROCKET,x:500}),Object(m.a)(Object(m.a)({},re),{},{id:"rover",object:ce.ROVER,x:300})],criteria:[{category:"rover_x",value:500,message:"Tenacity did not make it back to spacecraft."}]},{objective:"Get close to the crater to explore it. But be careful not to fall in!",blocks:[[h,5]],items:[Object(m.a)(Object(m.a)({},re),{},{id:"rocket",object:ce.ROCKET,x:100}),Object(m.a)(Object(m.a)({},re),{},{id:"crater",object:ce.MERCURY_CRATER,x:500,elevation:-30,allowFall:!0}),Object(m.a)(Object(m.a)({},re),{},{id:"rover",object:ce.ROVER,x:100})],criteria:[{category:"rover_x",value:400,message:"Tenacity did not make it close enough to crater."}]},{objective:"Return the rock sample back to the rocket.",blocks:[[h,5],[R,1],[y,1]],items:[Object(m.a)(Object(m.a)({},re),{},{id:"rocket",object:ce.ROCKET,x:100}),Object(m.a)(Object(m.a)({},re),{},{id:"crater",object:ce.MERCURY_CRATER,x:500,elevation:-30,allowFall:!0}),Object(m.a)(Object(m.a)({},re),{},{id:"rock",object:ce.ROCK_RED,x:400,elevation:-30,canCarry:!0}),Object(m.a)(Object(m.a)({},re),{},{id:"rover",object:ce.ROVER,x:400})],criteria:[{category:"rover_x",value:100,message:"Tenacity did not make it back to rocket."},{category:"rover_carry",value:"rock",message:"Tenacity does not have rock sample."}]},{objective:"We're done here on Mercury! Launch the rocket to head to the next planet.",blocks:[[k,1]],items:[Object(m.a)(Object(m.a)({},re),{},{id:"rocket",object:ce.ROCKET,x:400}),Object(m.a)(Object(m.a)({},re),{},{id:"rover",object:ce.ROVER,x:400})],criteria:[{category:"event",value:p,message:"Rocket did not launch."}]}]},{name:"Venus",introConfig:{size:20,scale:1.7,orbitDuration:28900,textColor:"black"},colors:{main:"#ae7c43",sky:"#dbb78f",text:"black"},briefing:"Welcome to Venus! Tenacity's mission is to explore the volcanos on the planet.",missions:[{objective:"Get to the base of the volcano and take a photo.",hint:'To repeat a section of a program multiple times, put it in between a "Repeat" and "End Repeat" instruction.',blocks:[[h,1],[x,1],[E,1],[_,1]],items:[Object(m.a)(Object(m.a)({},re),{},{id:"volcano",object:ce.VOLCANO,x:700}),Object(m.a)(Object(m.a)({},re),{},{id:"rocket",object:ce.ROCKET,x:100}),Object(m.a)(Object(m.a)({},re),{},{id:"rover",object:ce.ROVER,x:200})],criteria:[{category:"photograph",value:700,message:"Tenacity did not take photograph of volcano."}]},{objective:"Collect the rock sample.",blocks:[[h,2],[v,1],[R,1],[E,1],[_,1]],items:[Object(m.a)(Object(m.a)({},re),{},{id:"crater",object:ce.VENUS_CRATER,x:300,allowFall:!0,elevation:-30}),Object(m.a)(Object(m.a)({},re),{},{id:"rock",object:ce.ROCK_RED,x:600,elevation:-30,canCarry:!0}),Object(m.a)(Object(m.a)({},re),{},{id:"rover",object:ce.ROVER,x:100})],criteria:[{category:"rover_carry",value:"rock",message:"Tenacity does not have rock sample."}]},{objective:"Take photos at each of the five volcanos.",blocks:[[h,3],[y,2],[x,1],[E,1],[_,1]],items:[Object(m.a)(Object(m.a)({},re),{},{id:"volcano1",object:ce.VOLCANO,x:200}),Object(m.a)(Object(m.a)({},re),{},{id:"volcano2",object:ce.VOLCANO,x:300}),Object(m.a)(Object(m.a)({},re),{},{id:"volcano3",object:ce.VOLCANO,x:400}),Object(m.a)(Object(m.a)({},re),{},{id:"volcano4",object:ce.VOLCANO,x:500}),Object(m.a)(Object(m.a)({},re),{},{id:"volcano5",object:ce.VOLCANO,x:600}),Object(m.a)(Object(m.a)({},re),{},{id:"rover",object:ce.ROVER,x:400})],criteria:[{category:"photograph",value:200,message:"Tenacity did not take photograph of all volcano."},{category:"photograph",value:300,message:"Tenacity did not take photograph of all volcano."},{category:"photograph",value:400,message:"Tenacity did not take photograph of all volcano."},{category:"photograph",value:500,message:"Tenacity did not take photograph of all volcano."},{category:"photograph",value:600,message:"Tenacity did not take photograph of all volcano."}]},{objective:"Drop off both rock samples at the rocket.",hint:"Tenacity can only hold one object at a time.",blocks:[[h,5],[y,1],[v,1],[R,1],[T,1],[E,1],[_,1]],items:[Object(m.a)(Object(m.a)({},re),{},{id:"crater1",object:ce.VENUS_CRATER,x:500,allowFall:!0,elevation:-30}),Object(m.a)(Object(m.a)({},re),{},{id:"rock1",object:ce.ROCK_BLUE,x:600,elevation:-30,canCarry:!0}),Object(m.a)(Object(m.a)({},re),{},{id:"crater2",object:ce.VENUS_CRATER,x:300,allowFall:!0,elevation:-30}),Object(m.a)(Object(m.a)({},re),{},{id:"rock2",object:ce.ROCK_BLUE,x:200,elevation:-30,canCarry:!0}),Object(m.a)(Object(m.a)({},re),{},{id:"rocket",object:ce.ROCKET,x:400}),Object(m.a)(Object(m.a)({},re),{},{id:"rover",object:ce.ROVER,x:400})],criteria:[{category:"location_x",id:"rock1",value:400,message:"Both rock samples were not dropped off at rocket."},{category:"location_x",id:"rock2",value:400,message:"Both rock samples were not dropped off at rocket."}]},{objective:"We're done here on Venus! Launch the rocket to head to the next planet.",blocks:[[k,1]],items:[Object(m.a)(Object(m.a)({},re),{},{id:"crater1",object:ce.VENUS_CRATER,x:500,allowFall:!0,elevation:-30}),Object(m.a)(Object(m.a)({},re),{},{id:"crater2",object:ce.VENUS_CRATER,x:300,allowFall:!0,elevation:-30}),Object(m.a)(Object(m.a)({},re),{},{id:"rocket",object:ce.ROCKET,x:400}),Object(m.a)(Object(m.a)({},re),{},{id:"rover",object:ce.ROVER,x:400})],criteria:[{category:"event",value:p,message:"Rocket did not launch."}]}]},{name:"Earth",introConfig:{size:21,scale:1.3,orbitDuration:47e3,textColor:"black"},colors:{main:"#34bf9a",sky:"#9df2ee",text:"black"},briefing:"The Tenacity rover has arrived on Earth. Deliver the rock samples to the lab before proceeding to the next planet.",missions:[{objective:"Unlock the lab. To unlock the lab, press all of the blue buttons without pressing the red button.",hint:'Any instructions between an "If" and an "End If" instruction will only run if the "If" condition is true.',blocks:[[h,1],[C,1],[E,1],[_,1],[I,1],[B,1]],items:[Object(m.a)(Object(m.a)({},re),{},{id:"rocket",object:ce.ROCKET,x:100}),Object(m.a)(Object(m.a)({},re),{},{id:"lab",object:ce.LAB,x:400}),Object(m.a)(Object(m.a)({},re),{},{id:"button1",object:ce.BUTTON_BLUE,x:400,elevation:70,button:!0}),Object(m.a)(Object(m.a)({},re),{},{id:"button2",object:ce.BUTTON_RED,x:500,elevation:70,button:!0}),Object(m.a)(Object(m.a)({},re),{},{id:"button3",object:ce.BUTTON_BLUE,x:600,elevation:70,button:!0}),Object(m.a)(Object(m.a)({},re),{},{id:"rover",object:ce.ROVER,x:300})],criteria:[{category:"button_press",id:"button1",value:!0,message:"Tenacity did not press all blue buttons."},{category:"button_press",id:"button2",value:!1,message:"Tenacity pressed a red button."},{category:"button_press",id:"button3",value:!0,message:"Tenacity did not press all blue buttons."}]},{objective:'There is one rock sample in the "Samples" box. Move it to the appropriately labeled color box.',hint:'Red rocks should go to the "Red" box and blue rocks should go to the "Blue" box.',blocks:[[h,5],[R,1],[T,1],[w,1],[B,1]],items:[Object(m.a)(Object(m.a)({},re),{},{id:"rock",object:ce.ROCK_BLUE,x:200,elevation:-50,canCarry:!0,color:"blue"}),Object(m.a)(Object(m.a)({},re),{},{id:"box_samples",object:ce.BOX_SAMPLES,x:200,elevation:-100}),Object(m.a)(Object(m.a)({},re),{},{id:"box_red",object:ce.BOX_RED,x:400,elevation:-100}),Object(m.a)(Object(m.a)({},re),{},{id:"box_blue",object:ce.BOX_BLUE,x:500,elevation:-100}),Object(m.a)(Object(m.a)({},re),{},{id:"rover",object:ce.ROVER,x:200})],criteria:[{category:"location_x",id:"rock",value:500,message:"Rock sample did not end up in blue box."}]},{objective:'There is one rock sample in the "Samples" box. Move it to the appropriately labeled color box.',blocks:[[h,5],[R,1],[T,1],[w,1],[N,1],[B,1]],items:[Object(m.a)(Object(m.a)({},re),{},{id:"rock",object:ce.ROCK_RED,x:200,elevation:-50,canCarry:!0,color:"red"}),Object(m.a)(Object(m.a)({},re),{},{id:"box_samples",object:ce.BOX_SAMPLES,x:200,elevation:-100}),Object(m.a)(Object(m.a)({},re),{},{id:"box_red",object:ce.BOX_RED,x:500,elevation:-100}),Object(m.a)(Object(m.a)({},re),{},{id:"box_blue",object:ce.BOX_BLUE,x:400,elevation:-100}),Object(m.a)(Object(m.a)({},re),{},{id:"rover",object:ce.ROVER,x:200})],criteria:[{category:"location_x",id:"rock",value:500,message:"Rock sample did not end up in red box."}]},{objective:'There are three rock samples in the "Samples" box. Move each of them to the appropriately labeled color box.',blocks:[[h,7],[y,4],[R,1],[T,2],[w,1],[N,1],[B,1],[E,1],[_,1]],items:[Object(m.a)(Object(m.a)({},re),{},{id:"rock1",object:ce.ROCK_RED,x:200,elevation:-50,canCarry:!0,color:"red"}),Object(m.a)(Object(m.a)({},re),{},{id:"rock2",object:ce.ROCK_BLUE,x:200,elevation:-51,canCarry:!0,color:"blue"}),Object(m.a)(Object(m.a)({},re),{},{id:"rock3",object:ce.ROCK_RED,x:200,elevation:-52,canCarry:!0,color:"red"}),Object(m.a)(Object(m.a)({},re),{},{id:"box_samples",object:ce.BOX_SAMPLES,x:200,elevation:-100}),Object(m.a)(Object(m.a)({},re),{},{id:"box_red",object:ce.BOX_RED,x:400,elevation:-100}),Object(m.a)(Object(m.a)({},re),{},{id:"box_blue",object:ce.BOX_BLUE,x:500,elevation:-100}),Object(m.a)(Object(m.a)({},re),{},{id:"rover",object:ce.ROVER,x:200})],criteria:[{category:"location_x",id:"rock1",value:400,message:"Red rock sample did not end up in red box."},{category:"location_x",id:"rock2",value:500,message:"Blue rock sample did not end up in blue box."},{category:"location_x",id:"rock3",value:400,message:"Red rock sample did not end up in red box."}]},{objective:"We're done here on Earth! Launch the rocket to head to the next planet.",blocks:[[k,1]],items:[Object(m.a)(Object(m.a)({},re),{},{id:"rocket",object:ce.ROCKET,x:400}),Object(m.a)(Object(m.a)({},re),{},{id:"rover",object:ce.ROVER,x:400})],criteria:[{category:"event",value:p,message:"Rocket did not launch."}]}]},{name:"Mars",introConfig:{size:11,scale:1,orbitDuration:88e3,textColor:"black"},colors:{main:"#942c25",sky:"#e67870",text:"black"},briefing:"The Tenacity rover has arrived on Mars, the last planet on this journey.",missions:[{objective:"Take a photograph at the base of the mountain.",hint:"Tenacity store data in variables, found in the upper right. Some instructions let you type the name of a variable to control how the instruction behaves.",variables:[{name:"x",value:0}],blocks:[[f,1],[g,4],[x,1]],items:[Object(m.a)(Object(m.a)({},re),{},{id:"rocket",object:ce.ROCKET,x:100}),Object(m.a)(Object(m.a)({},re),{},{id:"mountain",object:ce.MOUNTAIN,x:500}),Object(m.a)(Object(m.a)({},re),{},{id:"rover",object:ce.ROVER,x:200})],criteria:[{category:"photograph",value:500,message:"Tenacity did not take photograph of mountain."}]},{objective:"Test each mountain for the presence of ice. Set the variable x to the number of mountains where ice was found.",variables:[{name:"x",value:0}],blocks:[[h,1],[g,2],[E,1],[_,1],[S,1],[B,1]],items:[Object(m.a)(Object(m.a)({},re),{},{id:"mountain1",object:ce.MOUNTAIN,x:200,ice:!1}),Object(m.a)(Object(m.a)({},re),{},{id:"mountain2",object:ce.MOUNTAIN,x:300,ice:!0}),Object(m.a)(Object(m.a)({},re),{},{id:"mountain3",object:ce.MOUNTAIN,x:400,ice:!1}),Object(m.a)(Object(m.a)({},re),{},{id:"mountain4",object:ce.MOUNTAIN,x:500,ice:!0}),Object(m.a)(Object(m.a)({},re),{},{id:"mountain5",object:ce.MOUNTAIN,x:600,ice:!1}),Object(m.a)(Object(m.a)({},re),{},{id:"rover",object:ce.ROVER,x:100})],criteria:[{category:"variable",id:"x",value:2,message:"Tenacity did not calculate x correctly."}]},{objective:"Take a photograph at the base of each mountain. Don't take more photographs than you need.",variables:[{name:"x",value:0}],blocks:[[f,1],[g,4],[x,1],[E,1],[_,1]],items:[Object(m.a)(Object(m.a)({},re),{},{id:"mountain1",object:ce.MOUNTAIN,x:200}),Object(m.a)(Object(m.a)({},re),{},{id:"mountain2",object:ce.MOUNTAIN,x:400}),Object(m.a)(Object(m.a)({},re),{},{id:"mountain3",object:ce.MOUNTAIN,x:700}),Object(m.a)(Object(m.a)({},re),{},{id:"rover",object:ce.ROVER,x:100})],criteria:[{category:"photograph",value:200,message:"Tenacity did not take a photograph of each mountain."},{category:"photograph",value:400,message:"Tenacity did not take a photograph of each mountain."},{category:"photograph",value:700,message:"Tenacity did not take a photograph of each mountain."},{category:"max_photographs",value:3,message:"Tenacity took too many photographs."}]},{objective:"Bring all of the red rock samples back to the rocket. Do not move the blue rocks.",variables:[{name:"x",value:0}],blocks:[[f,5],[y,2],[R,1],[T,1],[g,4],[E,1],[_,1]],items:[Object(m.a)(Object(m.a)({},re),{},{id:"rocket",object:ce.ROCKET,x:100}),Object(m.a)(Object(m.a)({},re),{},{id:"rock1",object:ce.ROCK_RED,x:200,elevation:-50,canCarry:!0,color:"red"}),Object(m.a)(Object(m.a)({},re),{},{id:"rock2",object:ce.ROCK_RED,x:400,elevation:-50,canCarry:!0,color:"red"}),Object(m.a)(Object(m.a)({},re),{},{id:"rock3",object:ce.ROCK_RED,x:600,elevation:-50,canCarry:!0,color:"red"}),Object(m.a)(Object(m.a)({},re),{},{id:"rock4",object:ce.ROCK_BLUE,x:300,elevation:-50,canCarry:!0,color:"blue"}),Object(m.a)(Object(m.a)({},re),{},{id:"rock5",object:ce.ROCK_BLUE,x:500,elevation:-50,canCarry:!0,color:"blue"}),Object(m.a)(Object(m.a)({},re),{},{id:"rock6",object:ce.ROCK_BLUE,x:700,elevation:-50,canCarry:!0,color:"blue"}),Object(m.a)(Object(m.a)({},re),{},{id:"rover",object:ce.ROVER,x:100})],criteria:[{category:"location_x",id:"rock1",value:100,message:"Rock samples were not dropped off at rocket."},{category:"location_x",id:"rock2",value:100,message:"Rock samples were not dropped off at rocket."},{category:"location_x",id:"rock3",value:100,message:"Rock samples were not dropped off at rocket."},{category:"location_x",id:"rock4",value:300,message:"A blue rock was moved."},{category:"location_x",id:"rock5",value:500,message:"A blue rock was moved."},{category:"location_x",id:"rock6",value:700,message:"A blue rock was moved."}]},{objective:"We're done here on Mars! Launch the rocket to head home.",blocks:[[k,1]],items:[Object(m.a)(Object(m.a)({},re),{},{id:"rocket",object:ce.ROCKET,x:400}),Object(m.a)(Object(m.a)({},re),{},{id:"rover",object:ce.ROVER,x:400})],criteria:[{category:"event",value:p,message:"Rocket did not launch."}]}]}];L.a.initialize("UA-123778931-5");var le,be=function(e,t){return"".concat(se[e].name,", Mission ").concat(t+1)},ue=function(e){L.a.event(e)},de=a(1),je=function(e){var t=e.addToProgram,a=e.blocks,o=e.onResetProgram,n=e.onSubmitProgram,c=e.program,i=e.programSubmitted,r=e.planetIndex,l=e.missionIndex,b=e.variables;return Object(de.jsx)("div",{id:"control-panel",children:Object(de.jsxs)("div",{id:"control-panel-container",children:[Object(de.jsxs)("div",{children:[Object(de.jsx)("div",{id:"program",children:c.map((function(e,t){return Object(de.jsx)("div",{children:U(e)},t)}))}),!i&&Object(de.jsxs)("div",{children:[Object(de.jsx)("button",{onClick:o,children:"Reset"}),Object(de.jsx)("button",{onClick:function(){var e=function(e,t){for(var a=[],o=[],n=0;n<e.length;n++){var c=Object.assign({},e[n]);if(c.meta={id:n},void 0!==c.args.var){var i,r=!1,s=Object(O.a)(t);try{for(s.s();!(i=s.n()).done;)i.value.name===c.args.var&&(r=!0)}catch(j){s.e(j)}finally{s.f()}if(!r)return{isValid:!1,error:"Tenacity does not have a variable called ".concat(c.args.var)}}var l=void 0;switch(c.block){case E:o.push({type:E,line:n});var b=parseInt(c.args.count);if(isNaN(b))return{isValid:!1,error:"Tenacity only understands an integer number of times to repeat!"};c.args.count=b;break;case _:if(void 0===(l=o.pop()))return{isValid:!1,error:"Tenacity can only End Repeat after a matching Repeat instruction."};if(l.type!==E)return{isValid:!1,error:"Tenacity tried to End Repeat, but it looks like some other part of the program needs to be resolved first."};c.meta.jumpBackTo=l.line,a[l.line].meta.jumpTo=n+1;break;case I:case w:case S:o.push({type:c.block,condition:!0,line:n});break;case N:if(void 0===(l=o.pop()))return{isValid:!1,error:"Tenacity can only have an Else after a matching If instruction."};if(!0!==l.condition)return{isValid:!1,error:"Tenacity tried to Else, but it looks like some other part of the program needs to be resolved first."};if(void 0!==a[l.line].meta.elseJump)return{isValid:!1,error:"An If instruction can only have one Else expression."};a[l.line].meta.elseIndex=n,a[l.line].meta.elseJump=n+1,o.push(l);break;case B:if(void 0===(l=o.pop()))return{isValid:!1,error:"Tenacity can only End If after a matching If instruction."};if(!0!==l.condition)return{isValid:!1,error:"Tenacity tried to End If, but it looks like some other part of the program needs to be resolved first."};a[l.line].meta.jumpTo=n+1;var u=a[l.line].meta.elseIndex;void 0!==u&&(a[u].meta.jumpTo=n+1)}a.push(c)}var d=o.pop();return void 0!==d?d.type===E?{isValid:!1,error:"Tenacity found a Repeat instruction, but it needs a matching End Repeat instruction so that it knows when to stop repeating."}:!0===d.condition?{isValid:!1,error:"Tenacity found an If instruction, but it needs a matching End If instruction so that it knows when the condition ends."}:{isValid:!1,error:"Tenacity found a mistake in the program."}:{isValid:!0,augmentedProgram:a}}(c,b),t=e.isValid,a=e.augmentedProgram,o=e.error;if(!t)return ue({category:"Error",action:"Invalid Program Error",label:be(r,l),value:o}),void alert(o);window.scrollTo({top:0,behavior:"smooth"}),setTimeout((function(){n(a)}),1e3)},children:"Submit Instructions"})]})]}),Object(de.jsx)("div",{id:"blocks",children:a.map((function(e,a){var o=Object(s.a)(e,2),n=o[0],c=o[1];return 0!==c&&Object(de.jsxs)("button",{className:"block",onClick:function(){return function(e){if(!i){var a=A[e],o={};if(void 0!==a.args){var n,c=Object(O.a)(a.args);try{for(c.s();!(n=c.n()).done;){var r=n.value;if("var"!==r.key){if(o[r.key]=window.prompt(r.text),null===o[r.key])return}else o[r.key]="x"}}catch(s){c.e(s)}finally{c.f()}}t(e,o)}}(n)},children:[A[n].name," (x",c,")"]},a)}))})]})})},me=(a(25),function(e){var t=e.onCompleteIntro,a=e.onStartPlaying,o=Object(n.useState)(!1),c=Object(s.a)(o,2),i=c[0],r=c[1],b=Object(l.b)({to:{opacity:i?0:1},from:{opacity:0},config:{duration:1500},onRest:function(){i&&t()}}),u=function(){ue({category:"Game",action:"Play Game"}),a(),r(!0)};return Object(de.jsxs)(l.a.g,{opacity:b.opacity,children:[Object(de.jsx)("text",{x:"50%",y:"30%",dominantBaseline:"middle",textAnchor:"middle",className:"titleText",opacity:b.opacity,children:"Tenacity"}),Object(de.jsx)("text",{x:"50%",y:"45%",dominantBaseline:"middle",textAnchor:"middle",className:"subheadText",opacity:b.opacity,children:"A game by Brian Yu"}),Object(de.jsx)("rect",{x:300,y:"360",height:80,width:200,rx:20,fill:"white",className:"hoverable",onClick:u}),Object(de.jsx)("text",{x:400,y:"400",dominantBaseline:"middle",textAnchor:"middle",style:{fontSize:"48px",fill:"black"},className:"hoverable",onClick:u,children:"Play"})]})}),Oe=function(){return Object(de.jsxs)("div",{style:{maxWidth:"500px"},children:[Object(de.jsx)("img",{src:W,alt:"Tenacity",style:{width:150}}),Object(de.jsx)("h1",{children:"Congratulations!"}),Object(de.jsx)("div",{children:"You've successfully navigated the Tenacity rover to successfully completion of all of its missions. Thank you for playing!"}),Object(de.jsx)("br",{}),Object(de.jsx)("h2",{children:"About Tenacity"}),Object(de.jsxs)("div",{children:["I'm Brian Yu, and I developed Tenacity as part of a project at Harvard's Graduate School of Education. I would love to hear your thoughts and feedback on the experience: you can reach me at ",Object(de.jsx)("a",{style:{color:"white"},href:"mailto:brian@brianyu.me",children:"brian@brianyu.me"}),"."]})]})},pe=function(e){var t=e.planet;return Object(de.jsxs)("g",{children:[Object(de.jsx)("rect",{x:0,y:500,width:ae,height:ne,fill:t.colors.main}),Object(j.a)(Array(8).keys()).map((function(e){return Object(de.jsx)("rect",{x:100*e-.5,y:500,width:1,height:10},e)}))]})},ve=function(e){var t=e.onCompleteIntro,a=e.onZoomIntro,o=e.planetIndex,c=se[o],i=c.introConfig.scale,r=Object(n.useState)(!1),b=Object(s.a)(r,2),u=b[0],d=b[1],j=Object(n.useState)(!1),m=Object(s.a)(j,2),O=m[0],p=m[1],v=Object(n.useState)(!1),h=Object(s.a)(v,2),f=h[0],g=h[1],x=Object(n.useState)(!1),y=Object(s.a)(x,2),k=y[0],R=y[1],T=Object(l.b)({to:{opacity:1},from:{opacity:0},config:{duration:1500},delay:1500}),C=Object(l.b)({to:{opacity:1},from:{opacity:0},config:{duration:1500},delay:3e3}),E=Object(l.b)({to:{angle:4*Math.PI},from:{angle:0},config:{duration:2e4},reset:u,onRest:function(){return d((function(e){return!e}))}}),_=Object(l.b)({to:{zoom:f?1:0},from:{zoom:0},config:{duration:1e3},onRest:function(){f&&(a(),R(!0))}}),I=Object(l.b)({to:{opacity:O?0:1},from:{opacity:1},config:{duration:2e3},onRest:function(){O&&t()}}),w=Object(l.b)({to:{opacity:k?1:0},from:{opacity:0},config:{duration:1e3},onRest:function(){k&&setTimeout((function(){p(!0)}),2e3)}}),S=se.slice(0,1+o).map((function(e,t){var a=t==o,n=100+50*t;return Object(de.jsxs)(l.a.g,{opacity:C.opacity,children:[Object(de.jsx)(l.a.circle,{cx:400,cy:300,r:n*i,fillOpacity:0,stroke:"white",strokeWidth:2}),Object(de.jsx)(l.a.circle,{cx:E.angle.interpolate((function(t){return 400+i*(n*Math.cos(t*(1e4/e.introConfig.orbitDuration)))})),cy:E.angle.interpolate((function(t){return 300-i*(n*Math.sin(t*(1e4/e.introConfig.orbitDuration)))})),r:a?_.zoom.interpolate((function(t){return e.introConfig.size*i+t*(1600-e.introConfig.size*i)})):e.introConfig.size*i,style:{fill:e.colors.main}})]},t)}));return Object(n.useEffect)((function(){var e=setTimeout((function(){g(!0)}),1e4);return function(){return clearTimeout(e)}}),[]),Object(de.jsxs)(l.a.g,{opacity:I.opacity,children:[Object(de.jsx)(l.a.circle,{cx:400,cy:300,r:50*i,style:{fill:"#f0f067"},opacity:T.opacity}),S,Object(de.jsx)(l.a.text,{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",style:{fontSize:"80px",fill:c.introConfig.textColor},opacity:w.opacity,children:c.name})]})},he=function(e){var t=e.planet,a=e.completedMissions;return Object(de.jsxs)("g",{children:[Object(de.jsx)("text",{textAnchor:"end",dominantBaseline:"hanging",x:785,y:15,style:{fill:t.colors.text,fontSize:"24px"},children:t.name}),t.missions.map((function(e,o){return Object(de.jsx)("circle",{cx:35+55*o,cy:35,r:20,style:{fill:a>o?t.colors.main:"rgba(0, 0, 0, 0)",stroke:t.colors.main,strokeWidth:a>o?0:1}},o)}))]})},fe=function(e){var t=e.object,a=e.x,o=e.y,n=e.center,c=e.costumeIndex,i=e.opacity;return void 0===c&&(c=0),Object(de.jsx)("image",{href:t.images[c],height:t.height,x:!1===n?a:a-t.width/2,y:o,opacity:i})},ge=100,xe=Object(l.a)(fe),ye=function(e){var t=e.planetIndex,a=e.missionIndex,o=e.onSuccess,c=e.onFailure,i=e.program,r=e.programSubmitted,b=se[t],u=b.missions[a];Object(n.useEffect)((function(){ue({category:"Level",action:"Start Level",label:be(t,a)})}),[a,t]);var A=Object(n.useState)({startTime:new Date,currentInstruction:0,instructionsCompleted:0,items:u.items,winMessage:!1,loseMessage:!1,photographs:[],bridges:[],buttons:[],variables:(u.variables||[]).map((function(e){return Object(m.a)({},e)})),loopMetadata:{},events:[]}),M=Object(s.a)(A,2),U=M[0],L=M[1],V=U.startTime,P=U.currentInstruction,D=U.instructionsCompleted,K=U.items,F=U.photographs,z=U.bridges,G=U.buttons,W=U.variables,X=U.winMessage,J=U.loseMessage,H=K.findIndex((function(e){return"rover"===e.id})),Y=-1!==H?K[H]:null,Z=K.findIndex((function(e){return"rocket"===e.id})),q=-1!==Z?K[Z]:null;function Q(e){switch(e.category){case"rover_x":return e.value===Y.x;case"location_x":var t,a=Object(O.a)(K);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(o.id===e.id&&o.x===e.value)return!0}}catch(f){a.e(f)}finally{a.f()}return!1;case"rover_carry":var n,c=Object(O.a)(K);try{for(c.s();!(n=c.n()).done;){var i=n.value;if(i.id===e.value&&!0===i.carried)return!0}}catch(f){c.e(f)}finally{c.f()}return!1;case"event":var r,s=Object(O.a)(U.events);try{for(s.s();!(r=s.n()).done;){var l=r.value;if(e.value===l)return!0}}catch(f){s.e(f)}finally{s.f()}return!1;case"photograph":var b,u=Object(O.a)(F);try{for(u.s();!(b=u.n()).done;){var d=b.value;if(e.value===d)return!0}}catch(f){u.e(f)}finally{u.f()}return!1;case"max_photographs":return F.length<=e.value;case"button_press":var j,m=Object(O.a)(G);try{for(m.s();!(j=m.n()).done;){if(j.value===e.id)return e.value}}catch(f){m.e(f)}finally{m.f()}return!e.value;case"variable":var p,v=Object(O.a)(W);try{for(v.s();!(p=v.n()).done;){var h=p.value;if(h.name===e.id&&h.value===e.value)return!0}}catch(f){v.e(f)}finally{v.f()}return!1;default:return console.log("Error: Unknown criterion."),!1}}function $(){var e,t=Object(O.a)(K);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(a.carried)return a}}catch(o){t.e(o)}finally{t.f()}return null}function ee(e){return e.map((function(e,t){return t===H?Object(m.a)(Object(m.a)({},Y),{},{util:(Y.util||0)+1}):e}))}if(r&&P<i.length&&D===P&&!X&&!J){var te,ae,oe=i[P];switch(oe.block){case h:L((function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,items:e.items.map((function(e,t){return t===H||!0===e.carried?Object(m.a)(Object(m.a)({},e),{},{x:0===Y.costumeNumber?e.x+ge:e.x-ge}):e}))})}));break;case f:var ne=function(e){var t,a=Object(O.a)(W);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(o.name===e)return o.value}}catch(n){a.e(n)}finally{a.f()}return null}(oe.args.var);L((function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,items:e.items.map((function(e,t){return t===H||!0===e.carried?Object(m.a)(Object(m.a)({},e),{},{x:0===Y.costumeNumber?e.x+ne*ge:e.x-ne*ge}):e}))})}));break;case y:L((function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,items:e.items.map((function(e,t){return t===H?Object(m.a)(Object(m.a)({},Y),{},{costumeNumber:0===Y.costumeNumber?1:0}):e}))})}));break;case R:te=function(){var e,t=null,a=Object(O.a)(K);try{for(a.s();!(e=a.n()).done;){var o=e.value;!o.carried&&o.canCarry&&o!==Y&&o.x===Y.x&&(null===t||o.elevation>t.elevation)&&(t=o)}}catch(n){a.e(n)}finally{a.f()}return t}(),L(null!==te?function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,items:e.items.map((function(e,t){return e===te?Object(m.a)(Object(m.a)({},te),{},{elevation:30,prevElevation:te.elevation,carried:!0}):t===H?Object(m.a)(Object(m.a)({},Y),{},{util:(Y.util||0)+1}):e}))})}:function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,items:ee(e.items)})});break;case T:te=$(),L(null!==te?function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,items:e.items.map((function(e,t){return e===te?Object(m.a)(Object(m.a)({},te),{},{elevation:te.prevElevation,carried:!1}):t===H?Object(m.a)(Object(m.a)({},Y),{},{util:(Y.util||0)+1}):e}))})}:function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,items:ee(e.items)})});break;case k:var re=q&&Y&&q.x===Y.x;L((function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,items:re?e.items.map((function(e,t){return t===H?Object(m.a)(Object(m.a)({},Y),{},{opacity:-10}):t===Z?Object(m.a)(Object(m.a)({},q),{},{elevation:600}):e})):e.items,events:[].concat(Object(j.a)(e.events),[p])})}));break;case E:var le=U.loopMetadata[oe.meta.id]||0;le>=oe.args.count?L((function(e){return Object(m.a)(Object(m.a)({},e),{},{currentInstruction:oe.meta.jumpTo-1,instructionsCompleted:oe.meta.jumpTo,items:ee(e.items)})})):L((function(e){return Object(m.a)(Object(m.a)({},e),{},{currentInstruction:e.currentInstruction+1,instructionsCompleted:e.instructionsCompleted+1,items:ee(e.items),loopMetadata:Object(m.a)(Object(m.a)({},e.loopMetadata),{},Object(d.a)({},oe.meta.id,le+1))})}));break;case _:L((function(e){return Object(m.a)(Object(m.a)({},e),{},{currentInstruction:oe.meta.jumpBackTo,instructionsCompleted:oe.meta.jumpBackTo,items:ee(e.items)})}));break;case I:var je,me=!1,Oe=Object(O.a)(K);try{for(Oe.s();!(je=Oe.n()).done;){var pe=je.value;if(pe.x===Y.x&&pe.object===ce.BUTTON_BLUE){me=!0;break}}}catch(Ee){Oe.e(Ee)}finally{Oe.f()}me?L((function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,items:ee(e.items)})})):(ae=void 0===oe.meta.elseJump?oe.meta.jumpTo:oe.meta.elseJump,L((function(e){return Object(m.a)(Object(m.a)({},e),{},{currentInstruction:ae-1,instructionsCompleted:ae,items:ee(e.items)})})));break;case w:(te=$())&&"blue"===te.color?L((function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,items:ee(e.items)})})):(ae=void 0===oe.meta.elseJump?oe.meta.jumpTo:oe.meta.elseJump,L((function(e){return Object(m.a)(Object(m.a)({},e),{},{currentInstruction:ae-1,instructionsCompleted:ae,items:ee(e.items)})})));break;case S:var ve,he=!1,fe=Object(O.a)(K);try{for(fe.s();!(ve=fe.n()).done;){var ye=ve.value;if(ye.x===Y.x&&!0===ye.ice){he=!0;break}}}catch(Ee){fe.e(Ee)}finally{fe.f()}he?L((function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,items:ee(e.items)})})):(ae=void 0===oe.meta.elseJump?oe.meta.jumpTo:oe.meta.elseJump,L((function(e){return Object(m.a)(Object(m.a)({},e),{},{currentInstruction:ae-1,instructionsCompleted:ae,items:ee(e.items)})})));break;case N:ae=oe.meta.jumpTo,L((function(e){return Object(m.a)(Object(m.a)({},e),{},{currentInstruction:ae-1,instructionsCompleted:ae,items:ee(e.items)})}));break;case B:L((function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,items:ee(e.items)})}));break;case C:te=function(){var e,t=Object(O.a)(K);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(!0===a.button&&a.x===Y.x)return a}}catch(Ee){t.e(Ee)}finally{t.f()}return null}(),L(null!==te?function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,buttons:[].concat(Object(j.a)(e.buttons),[te.id]),items:e.items.map((function(e,t){return e.id===te.id?Object(m.a)(Object(m.a)({},e),{},{costumeNumber:1}):e}))})}:function(e){return Object(m.a)(Object(m.a)({},e),{},{loseMessage:"Tenacity tried to press a button that wasn't there."})});break;case x:L((function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,photographs:[].concat(Object(j.a)(e.photographs),[Y.x]),items:ee(e.items)})}));break;case v:var ke=0===Y.costumeNumber?Y.x+ge:Y.x-ge;!function(e){var t,a=Object(O.a)(K);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(o.allowFall&&o.x===e)return!0}}catch(Ee){a.e(Ee)}finally{a.f()}return!1}(ke)?L((function(e){return Object(m.a)(Object(m.a)({},e),{},{loseMessage:"Tenacity can only build bridges over craters."})})):L((function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,bridges:[].concat(Object(j.a)(e.bridges),[ke]),items:ee(e.items)})}));break;case g:L((function(e){return Object(m.a)(Object(m.a)({},e),{},{instructionsCompleted:e.instructionsCompleted+1,variables:e.variables.map((function(e){return e.name===oe.args.var?Object(m.a)(Object(m.a)({},e),{},{value:e.value+1}):e})),items:ee(e.items)})}));break;default:console.log("ERROR: Unknown block.")}}var Re=Object(l.b)({to:{opacity:X?1:0},from:{opacity:0},config:{duration:1e3},delay:500,onRest:function(){X&&(ue({category:"Level",action:"Win Level",label:be(t,a),value:Math.round((new Date-V)/1e3)}),setTimeout((function(){o()}),2500))}}),Te=Object(l.b)({to:{opacity:J?1:0},from:{opacity:0},config:{duration:1e3},delay:500,onRest:function(){J&&(ue({category:"Level",action:"Lose Level",label:be(t,a),value:Math.round((new Date-V)/1e3)}),setTimeout((function(){c()}),2500))}}),Ce=Object(l.c)(K.length,K.map((function(e,t){return{to:{x:e.x,elevation:e.elevation,opacity:e.opacity,util:e.util||0},config:{duration:1e3},onRest:function(){if(!X&&!J)if(t===H&&r&&function(e){var t,a=Object(O.a)(z);try{for(a.s();!(t=a.n()).done;)if(t.value===e.x)return!1}catch(Ee){a.e(Ee)}finally{a.f()}var o,n=Object(O.a)(K);try{for(n.s();!(o=n.n()).done;){var c=o.value;if(c.allowFall&&c.x===e.x&&0===e.elevation)return!0}}catch(Ee){n.e(Ee)}finally{n.f()}return!1}(e))L((function(e){return Object(m.a)(Object(m.a)({},e),{},{items:e.items.map((function(e,t){return t===H||!0===e.carried?Object(m.a)(Object(m.a)({},e),{},{elevation:e.elevation-20}):e})),loseMessage:"Tenacity fell into crater."})}));else{if(t===H&&r&&U.instructionsCompleted===i.length){var a=function(){for(var e=0;e<u.criteria.length;e++)if(!Q(u.criteria[e]))return{isWin:!1,message:u.criteria[e].message||!0};return{isWin:!0}}(),o=a.isWin,n=a.message;L(o?function(e){return Object(m.a)(Object(m.a)({},e),{},{winMessage:!0})}:function(e){return Object(m.a)(Object(m.a)({},e),{},{loseMessage:n})})}t===H&&r&&U.instructionsCompleted>P&&U.instructionsCompleted!==i.length&&setTimeout((function(){L((function(e){return Object(m.a)(Object(m.a)({},e),{},{currentInstruction:e.currentInstruction+1})}))}),250)}}}})));return Object(de.jsxs)("g",{children:[Ce.map((function(e,t){var a=K[t];return Object(de.jsx)(xe,{object:a.object,x:e.x,y:e.elevation.interpolate((function(e){return ie(a.object,e)})),costumeIndex:a.costumeNumber,center:!1!==a.object.center,opacity:e.opacity},t)})),z.map((function(e,t){var a=ce.BRIDGE;return Object(de.jsx)(xe,{object:a,x:e,y:ie(a,-a.height),costumeIndex:0,center:!0,opacity:1},t)})),F.map((function(e,t){var a=ce.PHOTOGRAPH;return Object(de.jsx)(xe,{object:a,x:e,y:ie(a,-80),costumeIndex:0,center:!0,opacity:1},t)})),W.map((function(e,t){return Object(de.jsxs)("text",{textAnchor:"end",dominantBaseline:"hanging",x:780,y:20+24*(t+1),style:{fill:b.colors.text,fontSize:"20px",fontFamily:"monospace"},children:[e.name,": ",e.value]},t)})),Object(de.jsx)(l.a.text,{x:"50%",y:"20%",dominantBaseline:"middle",textAnchor:"middle",opacity:Re.opacity,style:{fontSize:"80px",fill:b.colors.text},children:"Mission Success"}),Object(de.jsx)(l.a.text,{x:"50%",y:"20%",dominantBaseline:"middle",textAnchor:"middle",opacity:Te.opacity,style:{fontSize:"80px",fill:b.colors.text},children:"Try Again"}),Object(de.jsx)(l.a.text,{x:"50%",y:"35%",dominantBaseline:"middle",textAnchor:"middle",opacity:Te.opacity,style:{fontSize:"30px",fill:b.colors.text},children:!0===J?"":J})]})},ke=function(e){var t=e.missionNumber,a=e.objective,o=e.hint;return Object(de.jsxs)("div",{style:{fontSize:"24px",textAlign:"center"},children:[Object(de.jsxs)("strong",{children:["Mission ",t," Objective"]}),Object(de.jsx)("br",{}),a,o&&Object(de.jsxs)("div",{style:{fontSize:"18px",textAlign:"center"},children:[Object(de.jsx)("hr",{}),o,Object(de.jsx)("br",{})]})]})},Re=function(e){var t=e.briefing,a=e.onCompleteBriefing;return Object(de.jsxs)("div",{style:{fontSize:"24px",textAlign:"center"},children:[t,Object(de.jsx)("br",{}),Object(de.jsx)("button",{onClick:a,children:"Continue"})]})},Te="COMPLETE_INTRO",Ce="COMPLETE_PLANET_INTRO",Ee="ZOOM_PLANET_INTRO",_e="COMPLETE_BRIEFING",Ie="ADD_TO_PROGRAM",we="RESET_PROGRAM",Se="SUBMIT_PROGRAM",Ne="NEXT_MISSION",Be="REPEAT_MISSION",Ae=0,Me=1,Ue=2,Le=(le={},Object(d.a)(le,Te,(function(e){return Object(m.a)(Object(m.a)({},e),{},{introShown:!0})})),Object(d.a)(le,Ee,(function(e){return e.planetIntroStatus===Ae?Object(m.a)(Object(m.a)({},e),{},{planetIntroStatus:Me}):e})),Object(d.a)(le,Ce,(function(e){return Object(m.a)(Object(m.a)({},e),{},{planetIntroStatus:Ue})})),Object(d.a)(le,_e,(function(e){return Object(m.a)(Object(m.a)({},e),{},{briefingShown:!0})})),Object(d.a)(le,Ie,(function(e,t){var a=t.block,o=t.args;return Object(m.a)(Object(m.a)({},e),{},{program:[].concat(Object(j.a)(e.program),[{block:a,args:o}])})})),Object(d.a)(le,we,(function(e){return Object(m.a)(Object(m.a)({},e),{},{program:[]})})),Object(d.a)(le,Se,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{program:t,programSubmitted:!0})})),Object(d.a)(le,Ne,(function(e){var t=se[e.planetIndex];return e.missionIndex+1<t.missions.length?Object(m.a)(Object(m.a)({},e),{},{missionIndex:e.missionIndex+1,round:e.round+1,program:[],programSubmitted:!1}):e.planetIndex+1<se.length?Object(m.a)(Object(m.a)({},e),{},{planetIndex:e.planetIndex+1,missionIndex:0,round:e.round+1,planetIntroStatus:Ae,briefingShown:!1,program:[],programSubmitted:!1}):Object(m.a)(Object(m.a)({},e),{},{done:!0})})),Object(d.a)(le,Be,(function(e){return Object(m.a)(Object(m.a)({},e),{},{round:e.round+1,program:[],programSubmitted:!1})})),le),Ve=function(e,t){var a=t.type,o=t.payload,n=Le[a];return n?n(e,o):e},Pe=function(e){var t,a=e.onStartPlaying,o=Object(n.useReducer)(Ve,{planetIndex:0,missionIndex:0,done:!1,round:0,introShown:!!(t=!1),planetIntroStatus:t?Ue:Ae,briefingShown:!!t,program:[],programSubmitted:!1}),c=Object(s.a)(o,2),i=c[0],r=c[1],b=function(e,t){return r({type:e,payload:t})},u=i.planetIndex,d=i.missionIndex,j=i.introShown,m=i.planetIntroStatus,O=i.briefingShown,p=i.program,v=i.programSubmitted,h=i.round,f=i.done,g=se[u],x=g.missions[d];function y(){b(Te)}function k(){b(Ee)}function R(){b(Ce)}function T(){b(_e)}var C=Object(l.b)({to:{color:j?m>=Me?g.colors.sky:"black":"rgba(0, 0, 0, 0)"},from:{color:"rgba(0, 0, 0, 0)"},config:{duration:1500}}),E=m===Ue,_=E&&O;return f?Object(de.jsx)(Oe,{}):Object(de.jsxs)("div",{style:{maxWidth:ae},children:[Object(de.jsxs)(l.a.svg,{width:ae,height:oe,className:"scene",style:{backgroundColor:C.color},children:[m>=Me&&Object(de.jsx)(pe,{planet:g}),E&&Object(de.jsx)(he,{planet:g,completedMissions:d}),j?E?Object(de.jsx)(ye,{planetIndex:u,missionIndex:d,onFailure:function(){return b(Be)},onSuccess:function(){return b(Ne)},program:p,programSubmitted:v},h):Object(de.jsx)(ve,{planetIndex:u,onZoomIntro:k,onCompleteIntro:R}):Object(de.jsx)(me,{onStartPlaying:a,onCompleteIntro:y})]}),E&&(O?Object(de.jsx)(ke,{missionNumber:d+1,objective:x.objective,hint:x.hint}):Object(de.jsx)(Re,{briefing:g.briefing,onCompleteBriefing:T})),_&&Object(de.jsx)(je,{planetIndex:u,missionIndex:d,addToProgram:function(e,t){b(Ie,{block:e,args:t})},blocks:M(x.blocks,p),variables:x.variables||[],onResetProgram:function(){return b(we)},onSubmitProgram:function(e){return b(Se,e)},program:p,programSubmitted:v})]})},De=a.p+"static/media/amerika.421d9361.mp3",Ke=Object(l.a)(u.a),Fe=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(l.b)({to:{volume:a?100:0},from:{volume:0},config:{duration:8e3}});return Object(de.jsxs)("div",{className:"page",children:[Object(de.jsx)("div",{className:"scene-container",children:Object(de.jsx)(Pe,{onStartPlaying:function(){return o(!0)}})}),Object(de.jsx)(Ke,{url:De,playStatus:a?u.a.status.PLAYING:u.a.status.STOPPED,autoLoad:!0,loop:!0,volume:c.volume})]})},ze=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,27)).then((function(t){var a=t.getCLS,o=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),o(e),n(e),c(e),i(e)}))};L.a.pageview(window.location.pathname+window.location.search),r.a.render(Object(de.jsx)(c.a.StrictMode,{children:Object(de.jsx)(Fe,{})}),document.getElementById("root")),ze()}},[[26,1,2]]]);
//# sourceMappingURL=main.ebeb9e3c.chunk.js.map