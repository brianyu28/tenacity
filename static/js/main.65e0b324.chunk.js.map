{"version":3,"sources":["game/blocks.js","components/ControlPanel.js","assets/rocket.svg","assets/rover.svg","assets/rover_flipped.svg","assets/mercury_crater.svg","assets/rock_red.svg","game/constants.js","game/objects.js","game/missions.js","analytics.js","components/GameIntro.js","components/GameWIP.js","components/Ground.js","components/PlanetIntro.js","components/ProgressIndicator.js","components/Level.js","components/Item.js","components/MissionObjective.js","components/MissionBriefing.js","components/Scene.js","assets/amerika.mp3","components/Page.js","App.js","reportWebVitals.js","index.js"],"names":["EVENTS","BLOCK_NAMES","FORWARD","TURN","PICK_UP","BLOCKS","name","LAUNCH_ROCKET","remaining_blocks","blocks","program","counts","i","length","block","undefined","reduce","acc","count","addToProgram","onResetProgram","onSubmitProgram","programSubmitted","id","map","instruction","onClick","window","scrollTo","top","behavior","setTimeout","className","blockClicked","CANVAS_WIDTH","CANVAS_HEIGHT","GROUND_HEIGHT","OBJECTS","ROVER","images","rover","rover_flipped","height","width","ROCKET","rocket","MERCURY_CRATER","mercury_crater","ROCK_RED","rock_red","d","elevation","opacity","costumeNumber","PLANETS","introConfig","size","scale","orbitDuration","textColor","colors","main","sky","text","briefing","missions","objective","items","object","x","criteria","category","value","hint","allowFall","ReactGA","initialize","getMissionLabel","planetIndex","missionIndex","logEvent","event","onCompleteIntro","onStartPlaying","useState","start","setStart","titleSpring","useSpring","to","from","config","duration","onRest","completeIntro","g","y","dominantBaseline","textAnchor","rx","fill","style","fontSize","maxWidth","color","href","planet","Array","keys","TICK_WIDTH","onZoomIntro","resetOrbit","setResetOrbit","exitIntro","setExitIntro","planetZoom","setPlanetZoom","planetText","setPlanetText","sunSpring","delay","planetOpacitySpring","planetMotionSpring","angle","Math","PI","reset","state","planetZoomSpring","zoom","sceneExitSpring","planetTextSpring","renderedPlanets","slice","isLastPlanet","radius","circle","cx","cy","r","fillOpacity","stroke","strokeWidth","interpolate","theta","cos","sin","useEffect","timer","clearTimeout","completedMissions","mission","PADDING","AItem","a","center","costumeIndex","currentInstruction","onSuccess","onFailure","setCurrentInstruction","action","label","startTime","Date","instructionsCompleted","winMessage","loseMessage","events","setState","roverIndex","findIndex","item","rocketIndex","checkCriteria","criterion","carried","console","log","obj","getPickupObject","util","shouldLaunch","winSpring","round","loseSpring","itemSprings","useSprings","target","checkFall","checkWin","spring","e","obj_y","missionNumber","textAlign","onCompleteBriefing","ACTION","PLANET_INTRO_STATUS","HANDLER","introShown","planetIntroStatus","briefingShown","done","reducer","type","payload","handler","props","development","useReducer","dispatch","act","handleCompleteIntro","handleZoomPlanetIntro","handleCompletePlanetIntro","handleCompleteBriefing","backgroundColorSpring","levelInProgress","showControlPanel","GameWIP","svg","backgroundColor","Ground","ProgressIndicator","Level","PlanetIntro","MissionObjective","MissionBriefing","ControlPanel","ASound","Sound","Page","playing","setPlaying","audioSpring","volume","Scene","url","backgroundMusic","playStatus","status","PLAYING","STOPPED","autoLoad","loop","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","pageview","location","pathname","search","ReactDOM","render","StrictMode","App","document","getElementById"],"mappings":"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","file":"static/js/main.65e0b324.chunk.js","sourcesContent":["// Blocks available for usage\n\nexport const EVENTS = {\n  ROCKET_LAUNCH: 'ROCKET_LAUNCH'\n};\n\nexport const BLOCK_NAMES = {\n  FORWARD: 'FORWARD',\n  TURN: 'TURN',\n  PICK_UP: 'PICK_UP'\n};\n\nexport const BLOCKS = {\n\n  [BLOCK_NAMES.FORWARD]: {\n    name: 'Move Forward'\n  },\n  [BLOCK_NAMES.TURN]: {\n    name: 'Turn Around'\n  },\n  [BLOCK_NAMES.PICK_UP]: {\n    name: 'Pick Up Object'\n  },\n  [BLOCK_NAMES.LAUNCH_ROCKET]: {\n    name: 'Launch Rocket'\n  }\n}\n\nexport const remaining_blocks = (blocks, program) => {\n\n  // Count up how many times each block is currently used in the program\n  const counts = {};\n  for (let i = 0; i < program.length; i++) {\n    const block = program[i];\n    if (counts[block] === undefined) {\n      counts[block] = 1;\n    } else {\n      counts[block]++;\n    }\n  }\n\n  // Remove\n  return blocks.reduce((acc, [block, count]) => (\n    [...acc, [block, count - (counts[block] || 0)]]\n  ), []);\n}","import { BLOCKS } from '../game/blocks';\n\nexport default ({ addToProgram, blocks, onResetProgram, onSubmitProgram,\n                  program, programSubmitted }) => {\n\n  function blockClicked(block) {\n    if (!programSubmitted) {\n      addToProgram(block);\n    }\n  }\n\n  function submitProgram() {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n    setTimeout(onSubmitProgram, 1000);\n  }\n\n  return (\n    <div id='control-panel'>\n      <div id='control-panel-container'>\n        <div>\n          <div id='program'>\n            {program.map((instruction, i) => {\n              return <div key={i}>\n                {BLOCKS[instruction].name}\n              </div>\n            })}\n          </div>\n          {!programSubmitted &&\n          <div>\n            <button onClick={onResetProgram}>Reset</button>\n            <button onClick={submitProgram}>Submit Instructions</button>\n          </div>\n          }\n        </div>\n        <div id='blocks'>\n          {blocks.map(([block, count], i) => {\n            if (count == 0)\n              return;\n            return <button\n              className='block'\n              key={i}\n              onClick={() => blockClicked(block)}\n            >\n              {BLOCKS[block].name} (x{count})\n            </button>\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}","export default __webpack_public_path__ + \"static/media/rocket.0dec99f9.svg\";","export default __webpack_public_path__ + \"static/media/rover.b107911f.svg\";","export default __webpack_public_path__ + \"static/media/rover_flipped.1ce4141d.svg\";","export default __webpack_public_path__ + \"static/media/mercury_crater.af0b0b06.svg\";","export default __webpack_public_path__ + \"static/media/rock_red.31b2b06f.svg\";","// Game dimensions\nexport const CANVAS_WIDTH = 800;\nexport const CANVAS_HEIGHT = 600;\nexport const GROUND_HEIGHT = 100;\n","import rocket from '../assets/rocket.svg';\nimport rover from '../assets/rover.svg';\nimport rover_flipped from '../assets/rover_flipped.svg';\nimport mercury_crater from '../assets/mercury_crater.svg';\nimport rock_red from '../assets/rock_red.svg';\n\nimport { CANVAS_HEIGHT, GROUND_HEIGHT } from './constants';\n\nexport const OBJECTS = {\n  ROVER: {\n    images: [rover, rover_flipped],\n    height: 80,\n    width: 80\n  },\n  ROCKET: {\n    images: [rocket],\n    height: 100,\n    width: 57\n  },\n  MERCURY_CRATER: {\n    images: [mercury_crater],\n    height: 30,\n    width: 90\n  },\n  ROCK_RED: {\n    images: [rock_red],\n    height: 30,\n    width: 40\n  }\n}\n\n// Get y position of object based on its elevation off the ground\nexport const obj_y = (object, elevation = 0) => (\n  CANVAS_HEIGHT - GROUND_HEIGHT - object.height - elevation \n)","// Game is divided into Planets and Missions\n\nimport { BLOCK_NAMES, EVENTS } from './blocks';\nimport { OBJECTS } from './objects';\n\n// Defaults for objects\nconst defaults = {\n  elevation: 0,\n  opacity: 1,\n  costumeNumber: 0,\n}\nconst d = defaults;\n\nexport const PLANETS = [\n  {\n    name: 'Mercury',\n    introConfig: {\n      size: 15,\n      scale: 2,\n      orbitDuration: 10000,\n      textColor: 'black'\n    },\n    colors: {\n      main: '#bfbaac',\n      sky: '#7d705b',\n      text: 'black'\n    },\n    briefing: 'The Tenacity rover has arrived on Mercury. Use the control panel to help Tenacity complete its missions.',\n    missions: [\n      {\n        objective: 'Navigate Tenacity back to the spacecraft for refueling.',\n        blocks: [\n          [BLOCK_NAMES.FORWARD, 2]\n        ],\n        items: [\n          {...d, id: 'rocket', object: OBJECTS.ROCKET, x: 500},\n          {...d, id: 'rover', object: OBJECTS.ROVER, x: 300},\n        ],\n        criteria: [\n          {category: 'rover_x', value: 500}\n        ]\n      },\n      {\n        objective: 'Get close to the crater to explore it. But be careful not to fall in!',\n        hint: 'You do not always need to use every block available to you.',\n        blocks: [\n          [BLOCK_NAMES.FORWARD, 5]\n        ],\n        items: [\n          {...d, id: 'rocket', object: OBJECTS.ROCKET, x: 100},\n          {...d, id: 'crater', object: OBJECTS.MERCURY_CRATER, x: 500, elevation: -30, allowFall: true},\n          {...d, id: 'rover', object: OBJECTS.ROVER, x: 100},\n        ],\n        criteria: [\n          {category: 'rover_x', value: 400}\n        ]\n      },\n      {\n        objective: 'Return the rock sample back to the rocket.',\n        blocks: [\n          [BLOCK_NAMES.FORWARD, 5],\n          [BLOCK_NAMES.PICK_UP, 1],\n          [BLOCK_NAMES.TURN, 1]\n        ],\n        items: [\n          {...d, id: 'rocket', object: OBJECTS.ROCKET, x: 100},\n          {...d, id: 'crater', object: OBJECTS.MERCURY_CRATER, x: 500, elevation: -30, allowFall: true},\n          {...d, id: 'rock', object: OBJECTS.ROCK_RED, x: 400, elevation: -30},\n          {...d, id: 'rover', object: OBJECTS.ROVER, x: 400},\n        ],\n        criteria: [\n          {category: 'rover_x', value: 100},\n          {category: 'rover_carry', value: 'rock'},\n        ]\n      },\n      {\n        objective: \"We're done here on Mercury! Launch the rocket to head to the next planet.\",\n        blocks: [\n          [BLOCK_NAMES.LAUNCH_ROCKET, 1]\n        ],\n        items: [\n          {...d, id: 'rocket', object: OBJECTS.ROCKET, x: 400},\n          {...d, id: 'rover', object: OBJECTS.ROVER, x: 400},\n        ],\n        criteria: [\n          {category: 'event', value: EVENTS.ROCKET_LAUNCH}\n        ]\n      }\n    ]\n  },\n  {\n    name: 'Venus',\n    introConfig: {\n      size: 20,\n      scale: 1.7,\n      orbitDuration: 28900,\n      textColor: 'black'\n    },\n    colors: {\n      main: '#ae7c43',\n      sky: '#dbb78f',\n      text: 'black'\n    },\n    briefing: 'Welcome to Venus!',\n    missions: [\n      {\n        objective: 'This mission has not yet been created. Check back soon!',\n        blocks: [\n        ],\n        items: [\n          {...d, id: 'rocket', object: OBJECTS.ROCKET, x: 500},\n          {...d, id: 'rover', object: OBJECTS.ROVER, x: 300},\n        ],\n        criteria: [\n          {category: 'rover_x', value: 0}\n        ]\n      },\n    ]\n  }\n]","import ReactGA from 'react-ga';\n\nimport { PLANETS } from './game/missions.js';\n\nReactGA.initialize('UA-123778931-5');\n\nconst logAnalytics = process.env.NODE_ENV != 'development';\n\nexport const getMissionLabel = (planetIndex, missionIndex) => {\n  return `${PLANETS[planetIndex].name}, Mission ${missionIndex + 1}`;\n}\n\nexport const logPageview = () => {\n  if (logAnalytics) {\n    ReactGA.pageview(window.location.pathname + window.location.search);\n  }\n}\n\nexport const logEvent = (event) => {\n  if (logAnalytics) {\n    ReactGA.event(event);\n  }\n}","import { useState } from 'react';\nimport { useSpring, animated as a } from 'react-spring';\n\nimport { logEvent } from '../analytics';\nimport { CANVAS_HEIGHT, CANVAS_WIDTH } from '../game/constants';\nimport '../css/GameIntro.css';\n\nconst BUTTON_WIDTH = 200;\nconst BUTTON_HEIGHT = 80;\n\nexport default ({ onCompleteIntro, onStartPlaying }) => {\n\n  // State to keep track of whether play button has been clicked\n  const [start, setStart] = useState(false);\n\n  // Fade in and fade out for titles\n  const titleSpring = useSpring({\n    to: {opacity: start ? 0 : 1},\n    from: {opacity: 0},\n    config: {duration: 1500},\n    onRest: () => {\n      if (start)\n        onCompleteIntro();\n    }\n  });\n\n  // Start playing music and begin game\n  const completeIntro = () => {\n    logEvent({\n      'category': 'Game',\n      'action': 'Play Game'\n    });\n    onStartPlaying();\n    setStart(true);\n  };\n\n  return (\n    <a.g opacity={titleSpring.opacity}>\n\n      {/* Main title */}\n      <text\n        x='50%'\n        y='30%'\n        dominantBaseline='middle'\n        textAnchor='middle'\n        className='titleText'\n        opacity={titleSpring.opacity}\n      >\n        Tenacity\n      </text>\n\n      {/* Subtitle */}\n      <text\n        x='50%'\n        y='45%'\n        dominantBaseline='middle'\n        textAnchor='middle'\n        className='subheadText'\n        opacity={titleSpring.opacity}\n      >\n        A game by Brian Yu\n      </text>\n\n      {/* Play button */}\n      <rect\n        x={(CANVAS_WIDTH - BUTTON_WIDTH) / 2}\n        y='360'\n        height={BUTTON_HEIGHT}\n        width={BUTTON_WIDTH}\n        rx={20}\n        fill='white'\n        className='hoverable'\n        onClick={completeIntro}\n      />\n      <text\n        x={CANVAS_WIDTH / 2}\n        y='400'\n        dominantBaseline='middle'\n        textAnchor='middle'\n        style={{ fontSize: '48px', fill: 'black' }}\n        className='hoverable'\n        onClick={completeIntro}\n      >\n        Play\n      </text>\n\n    </a.g>\n  );\n}","export default () => {\n  return (<div style={{ maxWidth: '500px' }}>\n    <div>\n      Tenacity is a work in progress, and you've reached the end of what's been\n      developed so far! Check back soon for more missions.\n    </div>\n    <br/>\n    <div>\n      Tenacity is developed by Brian Yu at Harvard Graduate School of Education.\n      While the game is in development, I would love to hear thoughts, feedback, and\n      recommendations: you can reach me\n      at <a style={{color: 'white'}} href=\"mailto:brian@brianyu.me\">brian@brianyu.me</a>.\n    </div>\n  </div>);\n}","import { CANVAS_HEIGHT, CANVAS_WIDTH, GROUND_HEIGHT } from '../game/constants';\n\nconst SHOW_TICKS = true;\nconst TICK_INTERVAL = 100;\nconst TICK_WIDTH = 1;\nconst TICK_HEIGHT = 10;\n\nexport default ({ planet }) => {\n  return (\n    <g>\n      <rect\n        x={0} y={CANVAS_HEIGHT - GROUND_HEIGHT} width={CANVAS_WIDTH} height={GROUND_HEIGHT}\n        fill={planet.colors.main}\n      />\n      {SHOW_TICKS && [...Array(CANVAS_WIDTH / TICK_INTERVAL).keys()].map(i => {\n        return <rect\n          key={i}\n          x={i * TICK_INTERVAL - (TICK_WIDTH / 2)}\n          y={CANVAS_HEIGHT - GROUND_HEIGHT}\n          width={TICK_WIDTH}\n          height={TICK_HEIGHT}\n        />\n      })}\n    </g>\n  );\n}","import { useState, useEffect } from 'react';\nimport { useSpring, animated as a } from 'react-spring';\n\nimport { CANVAS_HEIGHT, CANVAS_WIDTH } from '../game/constants';\nimport { PLANETS } from '../game/missions';\n\nconst START_RADIUS = 100;\nconst RADIUS_INCREMENT = 50;\n\nexport default ({ onCompleteIntro, onZoomIntro, planetIndex }) => {\n\n  // Determine current planet and scale\n  const planet = PLANETS[planetIndex];\n  const scale = planet.introConfig.scale;\n\n  // State to keep track of stage in animation\n  const [resetOrbit, setResetOrbit] = useState(false);\n  const [exitIntro, setExitIntro] = useState(false);\n  const [planetZoom, setPlanetZoom] = useState(false);\n  const [planetText, setPlanetText] = useState(false);\n\n  // Fade in for sun\n  const sunSpring = useSpring({\n    to: {opacity: 1},\n    from: {opacity: 0},\n    config: {duration: 1500},\n    delay: 1500,\n  });\n\n  // Fade in for planets\n  const planetOpacitySpring = useSpring({\n    to: {opacity: 1},\n    from: {opacity: 0},\n    config: {duration: 1500},\n    delay: 3000\n  })\n\n  // Angle for planets' orbit\n  const planetMotionSpring = useSpring({\n    to: {angle: 4 * Math.PI},\n    from: {angle: 0},\n    config: {duration: 20000},\n    reset: resetOrbit,\n    onRest: () => setResetOrbit(state => !state)\n  });\n\n  // Planet zoom\n  const planetZoomSpring = useSpring({\n    to: {zoom: planetZoom ? 1 : 0},\n    from: {zoom: 0},\n    config: {duration: 1000},\n    onRest: () => {\n      if (planetZoom) {\n        onZoomIntro();\n        setPlanetText(true);\n      } \n    }\n  });\n\n  // Fade out for scene\n  const sceneExitSpring = useSpring({\n    to: {opacity: exitIntro ? 0: 1},\n    from: {opacity: 1},\n    config: {duration: 2000},\n    onRest: () => {\n      if (exitIntro) {\n        onCompleteIntro();\n      }\n    }\n  });\n\n  // Fade in for planet text\n  const planetTextSpring = useSpring({\n    to: {opacity: planetText ? 1: 0},\n    from: {opacity: 0},\n    config: {duration: 1000},\n    onRest: () => {\n      if (planetText) {\n        setTimeout(() => {\n          setExitIntro(true);\n        }, 2000);\n      }\n    }\n  })\n\n  // Generate orbit and planet for each visible planet\n  const renderedPlanets = PLANETS.slice(0, 1 + planetIndex).map((planet, i) => {\n\n    const isLastPlanet = i == planetIndex;\n\n    const radius = START_RADIUS + RADIUS_INCREMENT * i;\n    return <a.g key={i} opacity={planetOpacitySpring.opacity}>\n      <a.circle\n        cx={CANVAS_WIDTH / 2}\n        cy={CANVAS_HEIGHT / 2}\n        r={radius * scale}\n        fillOpacity={0}\n        stroke={'white'}\n        strokeWidth={2}\n      />\n      <a.circle\n        cx={planetMotionSpring.angle.interpolate(theta =>\n          (CANVAS_WIDTH / 2) + scale * (radius * Math.cos(theta * (10000 / planet.introConfig.orbitDuration))))\n        }\n        cy={planetMotionSpring.angle.interpolate(theta =>\n          (CANVAS_HEIGHT / 2) - scale * (radius * Math.sin(theta * (10000 / planet.introConfig.orbitDuration))))\n        }\n        r={isLastPlanet ?\n            planetZoomSpring.zoom.interpolate(zoom => \n              planet.introConfig.size * scale + zoom * (1600 - planet.introConfig.size * scale)\n            )\n            : planet.introConfig.size * scale}\n        style={{ fill: planet.colors.main }}\n      /> \n    </a.g>;\n  });\n\n  // Fade out intro screen\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setPlanetZoom(true);\n    }, 10000);\n    return () => clearTimeout(timer);\n  }, []);\n\n  return (\n    <a.g opacity={sceneExitSpring.opacity}>\n\n      {/* Sun */}\n      <a.circle\n        cx={CANVAS_WIDTH / 2}\n        cy={CANVAS_HEIGHT / 2}\n        r={50 * scale}\n        style={{ fill: '#f0f067' }}\n        opacity={sunSpring.opacity}  \n      />\n\n      {/* Other Planets */}\n      {renderedPlanets}\n\n      <a.text\n        x='50%'\n        y='50%'\n        dominantBaseline='middle'\n        textAnchor='middle'\n        style={{ fontSize: '80px', fill: planet.introConfig.textColor }}\n        opacity={planetTextSpring.opacity}\n      >\n        {planet.name}\n      </a.text>\n    </a.g>\n  );\n}","import { CANVAS_HEIGHT, CANVAS_WIDTH } from '../game/constants';\n\nconst PADDING = 15;\nconst CIRCLE_RADIUS = 20;\n\nexport default ({ planet, completedMissions }) => {\n  return (\n    <g>\n      <text\n        textAnchor='end'\n        dominantBaseline='hanging'\n        x={CANVAS_WIDTH - PADDING}\n        y={PADDING}\n        style={{ fill: planet.colors.text, fontSize: '24px' }}\n      >\n        {planet.name}\n      </text>\n\n      {planet.missions.map((mission, i) => {\n        return (\n          <circle\n            key={i}\n            cx={PADDING + CIRCLE_RADIUS + (CIRCLE_RADIUS * 2 + PADDING) * i}\n            cy={PADDING + CIRCLE_RADIUS}\n            r={CIRCLE_RADIUS}\n            style={{\n                fill: completedMissions > i ? planet.colors.main : 'rgba(0, 0, 0, 0)',\n                stroke: planet.colors.main,\n                strokeWidth: completedMissions > i ? 0 : 1\n            }}\n          />\n        )\n      })}\n    </g>\n  )\n};","import { useState, useEffect } from 'react';\nimport { useSpring, useSprings, animated as a } from 'react-spring';\n\nimport { Item } from './Item';\n\nimport { getMissionLabel, logEvent } from '../analytics';\nimport { BLOCK_NAMES, EVENTS } from '../game/blocks';\nimport { PLANETS } from '../game/missions';\nimport { obj_y } from '../game/objects';\n\nconst AItem = a(Item);\n\nexport default ({ currentInstruction, planetIndex, missionIndex,\n                  onSuccess, onFailure,\n                  setCurrentInstruction, program, programSubmitted }) => {\n\n  const planet = PLANETS[planetIndex];\n  const mission = planet.missions[missionIndex];\n\n  useEffect(() => {\n    logEvent({\n      category: 'Level',\n      action: 'Start Level',\n      label: getMissionLabel(planetIndex, missionIndex)\n    });\n  }, []);\n\n  const [state, setState] = useState({\n    startTime: new Date(),\n    instructionsCompleted: 0,\n    items: mission.items,\n    winMessage: false,\n    loseMessage: false,\n    events: [] // events that have taken place\n  });\n\n  const { startTime, instructionsCompleted, items, winMessage, loseMessage } = state;\n  \n  // Determine index of rover\n  const roverIndex = items.findIndex(item => item.id === 'rover');\n  const rover = roverIndex !== -1 ? items[roverIndex] : null;\n  const rocketIndex = items.findIndex(item => item.id === 'rocket');\n  const rocket = rocketIndex !== -1 ? items[rocketIndex] : null;\n\n  // Check if level is won\n  function checkWin() {\n    for (let i = 0; i < mission.criteria.length; i++) {\n      if (!checkCriteria(mission.criteria[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // Check if particular criteria is true\n  function checkCriteria(criterion) {\n    switch (criterion.category) {\n      \n      // Confirm x location of rover\n      case 'rover_x':\n        if (criterion.value === rover.x) {\n          return true;\n        }\n        return false;\n\n      case 'rover_carry':\n        for (const item of items) {\n          if (item.id === criterion.value && item.carried === true) {\n            return true;\n          }\n        }\n        return false;\n      \n      // Confirm that event took place\n      case 'event':\n        for (const event of state.events) {\n          if (criterion.value === event) {\n            return true;\n          }\n        }\n        return false;\n\n      default:\n        console.log('Error: Unknown criterion.');\n        return false;\n    }\n\n  }\n\n  // Check to see if item will fall into something that allows falling\n  function checkFall(target) {\n    for (const item of items) {\n      if (item.allowFall && item.x == target.x && target.elevation === 0) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  // Get object to pick up; closest object to rover, null if none\n  function getPickupObject() {\n    let obj = null; \n    for (const item of items) {\n      if (item !== rover && item.x === rover.x && (obj === null || item.elevation > obj.elevation)) {\n        obj = item;\n      }\n    }\n    return obj;\n  }\n\n  // Run an instruction\n  if (programSubmitted && currentInstruction < program.length &&\n      instructionsCompleted == currentInstruction && !winMessage && !loseMessage) {\n    const instruction = program[currentInstruction];\n\n    // Decide which instruction to use\n    switch (instruction) {\n\n      // Move the rover forward\n      case BLOCK_NAMES.FORWARD:\n        setState(state => ({\n          ...state,\n          instructionsCompleted: state.instructionsCompleted + 1,\n          items: state.items.map((item, i) => i === roverIndex || item.carried === true ? {\n              ...item,\n              x: rover.costumeNumber === 0 ? item.x + 100 : item.x - 100\n            } : item),\n        }));\n        break;\n\n      case BLOCK_NAMES.TURN:\n        setState(state => ({\n          ...state,\n          instructionsCompleted: state.instructionsCompleted + 1,\n          items: state.items.map((item, i) => i === roverIndex ? {\n              ...rover,\n              costumeNumber: rover.costumeNumber === 0 ? 1 : 0\n            } : item),\n        }));\n        break;\n\n      case BLOCK_NAMES.PICK_UP:\n        const obj = getPickupObject();\n        if (obj != null) {\n          setState(state => ({\n            ...state,\n            instructionsCompleted: state.instructionsCompleted + 1,\n            items: state.items.map((item, i) => item === obj ? {\n              ...obj,\n              elevation: 30,\n              carried: true\n            } : i === roverIndex ? {\n              ...rover,\n              util: (rover.util || 0) + 1\n            } : item),\n          }))\n        } else {\n          setState(state => ({\n            ...state,\n            instructionsCompleted: state.instructionsCompleted + 1,\n            items: state.items.map((item, i) => i === roverIndex ? {\n              ...rover,\n              util: (rover.util || 0) + 1\n            } : item),\n          }));\n        }\n        break;\n\n      case BLOCK_NAMES.LAUNCH_ROCKET:\n        const shouldLaunch = rocket && rover && rocket.x === rover.x;\n        setState(state => ({\n          ...state,\n          instructionsCompleted: state.instructionsCompleted + 1,\n          items: shouldLaunch ?\n            state.items.map((item, i) =>\n              i === roverIndex ? {\n                ...rover,\n                opacity: -10\n              } :\n              i === rocketIndex ? {\n                ...rocket,\n                elevation: 600\n              } : item\n            )\n          : state.items,\n          events: [...state.events, EVENTS.ROCKET_LAUNCH]\n        }))\n\n      default:\n        console.log('ERROR: Unknown block.');\n    }\n}\n\nconst winSpring = useSpring({\n  to: {opacity: winMessage ? 1 : 0},\n  from: {opacity: 0},\n  config: {duration: 1000},\n  delay: 500,\n  onRest: () => {\n    if (winMessage) {\n      logEvent({\n        category: 'Level',\n        action: 'Win Level',\n        label: getMissionLabel(planetIndex, missionIndex),\n        value: Math.round((new Date() - startTime) / 1000)\n      });\n      setTimeout(() => {\n        onSuccess();\n      }, 2500);\n    }\n  }\n});\n\nconst loseSpring = useSpring({\n  to: {opacity: loseMessage ? 1 : 0},\n  from: {opacity: 0},\n  config: {duration: 1000},\n  delay: 500,\n  onRest: () => {\n    if (loseMessage) {\n      logEvent({\n        category: 'Level',\n        action: 'Lose Level',\n        label: getMissionLabel(planetIndex, missionIndex),\n        value: Math.round((new Date() - startTime) / 1000)\n      });\n      setTimeout(() => {\n        onFailure();\n      }, 2500);\n    }\n  }\n});\n\nconst itemSprings = useSprings(items.length, items.map((item, i) => ({\n  to: {\n    x: item.x,\n    elevation: item.elevation,\n    opacity: item.opacity,\n    util: item.util || 0 // utility variable to force transitions\n  },\n  config: {duration: 1000},\n  onRest: () => {\n\n    if (winMessage || loseMessage) {\n      return;\n    }\n\n    // Check for collisions\n    if (i === roverIndex && programSubmitted) {\n      if (checkFall(item)) {\n        setState(state => ({\n          ...state,\n          items: state.items.map((item, i) => i === roverIndex || item.carried === true ? {\n            ...item,\n            elevation: item.elevation - 20\n          } : item),\n          loseMessage: true\n        }));\n        return;\n      }\n    }\n\n    // Check if program is over\n    if (i === roverIndex && programSubmitted && state.instructionsCompleted === program.length) {\n      if (checkWin()) {\n        setState(state => ({...state, winMessage: true})); \n      } else {\n        setState(state => ({...state, loseMessage: true})); \n      }\n    }\n\n    // When rover completes its action, move on to the next instruction\n    if (i === roverIndex && programSubmitted\n        && state.instructionsCompleted > currentInstruction\n        && state.instructionsCompleted != program.length) {\n\n      setTimeout(() => {\n        setCurrentInstruction(currentInstruction + 1);\n      }, 250);\n    }\n  }\n})));\n\n\n\nreturn (\n    <g>\n      {itemSprings.map((spring, i) => {\n        const item = items[i];\n        return (<AItem\n          key={i}\n          object={item.object}\n          x={spring.x}\n          y={spring.elevation.interpolate(e => obj_y(item.object, e))}\n          costumeIndex={item.costumeNumber}\n          center={item.object.center !== false}\n          opacity={spring.opacity}\n        />);\n      })}\n      <a.text\n        x='50%'\n        y='20%'\n        dominantBaseline='middle'\n        textAnchor='middle'\n        opacity={winSpring.opacity}\n        style={{ fontSize: '80px', fill: planet.colors.text }}\n      >\n        Mission Success\n      </a.text>\n      <a.text\n        x='50%'\n        y='20%'\n        dominantBaseline='middle'\n        textAnchor='middle'\n        opacity={loseSpring.opacity}\n        style={{ fontSize: '80px', fill: planet.colors.text }}\n      >\n        Try Again\n      </a.text>\n    </g>\n  );\n}","export const Item = ({object, x, y, center, costumeIndex, opacity}) => {\n\n  // Use costume 0 by default\n  if (costumeIndex === undefined) {\n    costumeIndex = 0;\n  }\n\n  return (\n    <image\n      href={object.images[costumeIndex]}\n      height={object.height}\n      x={center === false ? x : x - (object.width / 2)}\n      y={y}\n      opacity={opacity}\n    />\n  )\n}","export default ({ missionNumber, objective }) => {\n  return (\n    <div style={{ fontSize: '24px', textAlign: 'center' }}>\n      <strong>Mission {missionNumber} Objective</strong>\n      <br/>\n      {objective}\n    </div>\n  );\n}","export default ({ briefing, onCompleteBriefing }) => {\n  return (\n    <div style={{ fontSize: '24px', textAlign: 'center' }}>\n      {briefing}\n      <br/>\n      <button onClick={onCompleteBriefing}>Continue</button>\n    </div>\n  );\n}","import React, { useReducer } from 'react';\nimport { useSpring, animated as a } from 'react-spring';\n\nimport ControlPanel from './ControlPanel';\nimport GameIntro from './GameIntro';\nimport GameWIP from './GameWIP';\nimport Ground from './Ground';\nimport PlanetIntro from './PlanetIntro';\nimport ProgressIndicator from './ProgressIndicator';\nimport Level from './Level';\nimport MissionObjective from './MissionObjective';\nimport MissionBriefing from './MissionBriefing';\n\nimport { PLANETS } from '../game/missions';\nimport { CANVAS_WIDTH, CANVAS_HEIGHT, ROUND_HEIGHT } from '../game/constants';\nimport { remaining_blocks } from '../game/blocks';\n\n// Skip certain sequences\nconst DEV_MODE = false;\nconst START_PLANET = 0;\nconst START_MISSION = 0;\n\nconst ACTION = {\n\n  // Intro screens\n  COMPLETE_INTRO: 'COMPLETE_INTRO',\n  COMPLETE_PLANET_INTRO: 'COMPLETE_PLANET_INTRO',\n  ZOOM_PLANET_INTRO: 'ZOOM_PLANET_INTRO',\n  COMPLETE_BRIEFING: 'COMPLETE_BRIEFING',\n\n  // Program actions\n  ADD_TO_PROGRAM: 'ADD_TO_PROGRAM',\n  RESET_PROGRAM: 'RESET_PROGRAM',\n  SUBMIT_PROGRAM: 'SUBMIT_PROGRAM',\n  SET_INST_PTR: 'SET_INST_PTR',\n\n  // Changing missions\n  NEXT_MISSION: 'NEXT_MISSION',\n  REPEAT_MISSION: 'REPEAT_MISSION'\n}\n\n// Keeps track of current position in planet intro\nconst PLANET_INTRO_STATUS = {\n  NOT_SHOWN: 0,\n  ZOOMING: 1,\n  COMPLETE: 2\n};\n\nconst HANDLER = {\n\n  // Intro screens\n  [ACTION.COMPLETE_INTRO]: state => {\n    return {...state, introShown: true};\n  },\n  [ACTION.ZOOM_PLANET_INTRO]: state => {\n    if (state.planetIntroStatus === PLANET_INTRO_STATUS.NOT_SHOWN) {\n      return {...state, planetIntroStatus: PLANET_INTRO_STATUS.ZOOMING}\n    } else {\n      return state;\n    }\n  },\n  [ACTION.COMPLETE_PLANET_INTRO]: state => {\n    return {...state, planetIntroStatus: PLANET_INTRO_STATUS.COMPLETE}\n  },\n  [ACTION.COMPLETE_BRIEFING]: state => {\n    return {...state, briefingShown: true}\n  },\n\n  // Program actions\n  [ACTION.ADD_TO_PROGRAM]: (state, block) => {\n    return {...state, program: [...state.program, block]}\n  },\n  [ACTION.RESET_PROGRAM]: state => {\n    return {...state, program: []}\n  },\n  [ACTION.SUBMIT_PROGRAM]: state => {\n    return {...state, programSubmitted: true}\n  },\n  [ACTION.SET_INST_PTR]: (state, instruction) => {\n    return {...state, currentInstruction: instruction}\n  },\n\n  // Changing missions\n  [ACTION.NEXT_MISSION]: (state) => {\n    const planet = PLANETS[state.planetIndex];\n\n    // Next mission on this planet\n    if (state.missionIndex + 1 < planet.missions.length) {\n      return {\n        ...state,\n        missionIndex: state.missionIndex + 1,\n        round: state.round + 1,\n        program: [],\n        programSubmitted: false,\n        currentInstruction: 0\n      }\n\n    // Next mission takes us to a new planet\n    } else if (state.planetIndex + 1 < PLANETS.length) {\n      return {\n        ...state,\n        planetIndex: state.planetIndex + 1,\n        missionIndex: 0,\n        round: state.round + 1,\n        planetIntroStatus: PLANET_INTRO_STATUS.NOT_SHOWN,\n        briefingShown: false,\n        program: [],\n        programSubmitted: false,\n        currentInstruction: 0\n      }\n    \n    // No more levels\n    } else {\n      return {\n        ...state,\n        done: true\n      }\n    }\n  },\n\n  [ACTION.REPEAT_MISSION]: (state) => {\n    return {\n      ...state,\n      round: state.round + 1,\n      program: [],\n      programSubmitted: false,\n      currentInstruction: 0\n    }\n  }\n};\n\nconst reducer = (state, { type, payload }) => {\n  const handler = HANDLER[type];\n  if (!handler) return state;\n  return handler(state, payload);\n};\n\n// Returns initial state. Includes devellopment flag for skipping parts.\nconst getInitialState = (development) => {\n\n  return {\n\n    // Track current mission for user\n    planetIndex: START_PLANET || 0,\n    missionIndex: START_MISSION || 0,\n    done: false,\n    round: 0,\n\n    // Track current status of game\n    introShown: development ? true : false,\n    planetIntroStatus: development ? PLANET_INTRO_STATUS.COMPLETE: PLANET_INTRO_STATUS.NOT_SHOWN,\n    briefingShown: development ? true : false,\n\n    // Current sequence of blocks\n    program: [],\n    programSubmitted: false,\n    currentInstruction: 0\n\n  }\n}\n\nexport default (props) => {\n\n  const { onStartPlaying } = props;\n\n  const [state, dispatch] = useReducer(reducer, getInitialState(DEV_MODE));\n  const act = (type, payload) => dispatch({ type, payload });\n\n  const {\n    planetIndex,\n    missionIndex,\n    introShown,\n    planetIntroStatus,\n    briefingShown,\n    program,\n    programSubmitted,\n    round,\n    currentInstruction,\n    done\n  } = state;\n\n  const planet = PLANETS[planetIndex];\n  const mission = planet.missions[missionIndex];\n\n  // Handle entering and exiting introduction screens\n  function handleCompleteIntro() {\n    act(ACTION.COMPLETE_INTRO);\n  }\n\n  function handleZoomPlanetIntro() {\n    act(ACTION.ZOOM_PLANET_INTRO);\n  }\n\n  function handleCompletePlanetIntro() {\n    act(ACTION.COMPLETE_PLANET_INTRO);\n  }\n\n  function handleCompleteBriefing() {\n    act(ACTION.COMPLETE_BRIEFING);\n  }\n\n  function addToProgram(block) {\n    act(ACTION.ADD_TO_PROGRAM, block);\n  }\n\n  function setCurrentInstruction(i) {\n    act(ACTION.SET_INST_PTR, i);\n  }\n\n  function showIntro() {\n    return <GameIntro\n      onStartPlaying={onStartPlaying}\n      onCompleteIntro={handleCompleteIntro}\n    />;\n  }\n\n  function showPlanetIntro() {\n    return <PlanetIntro\n      planetIndex={planetIndex}\n      onZoomIntro={handleZoomPlanetIntro}\n      onCompleteIntro={handleCompletePlanetIntro}\n    />\n  }\n\n  function showLevel() {\n    return <Level\n      key={round}\n      currentInstruction={currentInstruction}\n      planetIndex={planetIndex}\n      missionIndex={missionIndex}\n      onFailure={() => act(ACTION.REPEAT_MISSION)}\n      onSuccess={() => act(ACTION.NEXT_MISSION)}\n      setCurrentInstruction={setCurrentInstruction}\n      program={program}\n      programSubmitted={programSubmitted}\n    />\n  }\n\n  function showBriefing() {\n    return <MissionBriefing\n      briefing={planet.briefing}\n      onCompleteBriefing={handleCompleteBriefing}\n    />\n  }\n\n  function showGround() {\n    return <Ground\n      planet={planet}\n    />\n  }\n\n  const backgroundColorSpring = useSpring({\n    to: {color: introShown ? (\n      planetIntroStatus >= PLANET_INTRO_STATUS.ZOOMING ? planet.colors.sky : 'black'\n      ) : 'rgba(0, 0, 0, 0)'},\n    from: {color: 'rgba(0, 0, 0, 0)'},\n    config: {duration: 1500}\n  });\n\n  const levelInProgress = planetIntroStatus == PLANET_INTRO_STATUS.COMPLETE;\n  const showControlPanel = levelInProgress && briefingShown;\n\n  // Temporary game over screen\n  if (done) {\n    return <GameWIP />;\n  }\n\n  return (\n    <div style={{ maxWidth: CANVAS_WIDTH }}>\n      <a.svg width={CANVAS_WIDTH} height={CANVAS_HEIGHT} className='scene'\n           style={{ backgroundColor: backgroundColorSpring.color }}\n      >\n\n        {/* Ground, appears when planet has been zoomed in  */}\n        {planetIntroStatus >= PLANET_INTRO_STATUS.ZOOMING && showGround()}\n\n        {levelInProgress && \n          <ProgressIndicator\n            planet={planet}\n            completedMissions={missionIndex}\n          />\n        }\n\n        {!introShown ? showIntro() : !levelInProgress ? showPlanetIntro() : showLevel()}\n      </a.svg>\n      {levelInProgress &&\n        (briefingShown ? <MissionObjective missionNumber={missionIndex + 1} objective={mission.objective} />\n        : showBriefing())\n      }\n      {showControlPanel &&\n        <ControlPanel\n          addToProgram={addToProgram}\n          blocks={remaining_blocks(mission.blocks, program)}\n          onResetProgram={() => act(ACTION.RESET_PROGRAM)}\n          onSubmitProgram={() => act(ACTION.SUBMIT_PROGRAM)}\n          program={program}\n          programSubmitted={programSubmitted}\n        />\n      }\n    </div>\n  );\n};","export default __webpack_public_path__ + \"static/media/amerika.421d9361.mp3\";","import React, { useState } from 'react';\nimport { useSpring, animated as a } from 'react-spring';\nimport Sound from 'react-sound';\n\nimport Scene from './Scene';\n\nimport backgroundMusic from '../assets/amerika.mp3';\n\nconst ASound = a(Sound);\n\nexport default () => {\n\n  const [playing, setPlaying] = useState(false);\n  const handleStartPlaying = () => setPlaying(true);\n\n  // Fade in audio\n  const audioSpring = useSpring({\n    to: {volume: playing ? 100 : 0},\n    from: {volume: 0},\n    config: {duration: 8000}\n  });\n\n  return (\n    <div className='page'>\n      <div className='scene-container'>\n        <Scene\n          onStartPlaying={handleStartPlaying}\n        />\n      </div>\n      <ASound\n        url={backgroundMusic}\n        playStatus={playing ? Sound.status.PLAYING : Sound.status.STOPPED}\n        autoLoad={true}\n        loop={true}\n        volume={audioSpring.volume}\n      />\n    </div>\n  );\n}","import Page from './components/Page';\n\nexport default Page;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\nimport { logPageview } from './analytics';\nimport reportWebVitals from './reportWebVitals';\n\nlogPageview();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}